{"version":3,"mappings":"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","names":["_imports_0","PathUtils","startPath","subPath","path","rootUrl","baseUrl","projectUrl","scrollWaitingTime","SysConstants","publicPath","basePath","ImageUtils","relativePathName","TypeUtils","val","primitiveValue","DateStyles","DateUtils","month","date","dayNum","style","__privateMethod","_DateUtils_static","fill_fn","num","__privateAdd","DataUtils","source","HistoryStateHelper","stateName","data","LoadingSettings","VeeValidateHelper","defineRule","required","email","configure","localize","zh_TW","setLocale","AlertOptions","popup","BasicAlert","Swal","ConfirmAlert","msg","options","detail","title","TimerAlert","EventBase","elem","__publicField","KeyboardDisableHelper","_isDisabled","_disabledAbortController","__privateGet","__privateSet","item","event","_sfc_main","e","_hoisted_1","_openBlock","_createElementBlock","_createElementVNode","$options","args","onMounted","elemMenu","classShow","closeMenu","menuClasses","eventItem","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_unref","RouterLink","_cache","_hoisted_6","CollapseMenu","_hoisted_7","Header","RouterView","useLoadingStore","defineStore","vueLoading","useLoading","loader","loadingCnt","isOpened","appKeyboard","checkLoading","elemOverlay","reset","open","close","_Api","_axios","axios","Api","TagApi","EventApi","id","SubscriptionApi","_Record","_props","props","key","Record","_TagRecord","TagRecord","TagService","result","res","error","tags","name","Model","TagModel","tagRecord","_a","model","DateService","_EventRecord","EventRecord","EventTagRecord","tagModel","tagId","index","tagObj","EventService","events","tagIds","EventModel","eventRecord","EventTagModel","eventTagRecord","EventListHistState","tagData","_tagStateName","pageNo","_pageStateName","useAreaLoading","element","containerElmt","containerTabindex","containerKeyboard","useEventTag","ref","eventTagModel","resList","Navigation","Pagination","Autoplay","mapActions","Swiper","SwiperSlide","_createBlock","_component_Swiper","$data","_Fragment","_renderList","_component_SwiperSlide","_component_router_link","_normalizeStyle","_toDisplayString","clickEventTag","inject","eventTagClasses","__props","EventCard","onlineTagId","recentEvents","onlineEvent","_hoisted_8","_hoisted_9","_hoisted_10","_component_EventCard","tag","_AlbumRecord","AlbumRecord","AlbumModel","albums","albumRecord","AlbumService","useAlbums","i","_normalizeClass","$props","ScrollingText","AlbumCard","_component_ScrollingText","album","_component_AlbumCard","SubscriptionService","form","_component_VeeForm","_withCtx","errors","_component_VeeField","_component_VeeErrorMessage","computed","fileName","tagName","Banner","EventInfo","Albums","FollowUs","_component_Banner","link","_component_EventInfo","_component_Albums","_component_FollowUs","router","createRouter","createWebHashHistory","to","from","savedPosition","resolve","homeView","__vitePreload","app","createApp","App","createPinia","LoadingPlugin","Form","Field","ErrorMessage"],"ignoreList":[],"sources":["../../src/assets/images/logo.png","../../src/helpers/pathUtils.js","../../src/helpers/sysConstants.js","../../src/helpers/imageUtils.js","../../src/helpers/typeUtils.js","../../src/helpers/date/dateStyles.js","../../src/helpers/date/dateUtils.js","../../src/helpers/dataUtils.js","../../src/helpers/HistoryStateHelper.js","../../src/helpers/loadingHelper.js","../../src/helpers/veeValidateHelper.js","../../src/helpers/alert/alertOptions.js","../../src/helpers/alert/basicAlert.js","../../src/helpers/alert/alertHelper.js","../../src/helpers/event/eventBase.js","../../src/helpers/event/keyboardHelper.js","../../src/components/global/header/CollapseMenu.vue","../../src/components/global/header/Header.vue","../../src/App.vue","../../src/stores/loadingStore.js","../../src/api/api.js","../../src/api/tagApi.js","../../src/api/eventApi.js","../../src/api/subscriptionApi.js","../../src/services/data/record.js","../../src/services/data/tag/tagRecord.js","../../src/services/data/tag/tagService.js","../../src/services/data/model.js","../../src/services/data/tag/tagModel.js","../../src/services/dateService.js","../../src/services/data/event/eventRecord.js","../../src/services/data/event/eventTagRecord.js","../../src/services/data/event/eventService.js","../../src/services/data/event/eventModel.js","../../src/services/data/event/eventTagModel.js","../../src/services/features/eventList/eventListHistState.js","../../src/composables/loading/useAreaLoading.js","../../src/composables/data/useEventTag.js","../../src/components/home/Banner.vue","../../src/components/global/EventCard.vue","../../src/components/home/EventInfo.vue","../../src/services/data/album/albumRecord.js","../../src/services/data/album/albumModel.js","../../src/services/data/album/albumService.js","../../src/composables/data/useAlbums.js","../../src/components/home/albums/ScrollingText.vue","../../src/components/home/albums/AlbumCard.vue","../../src/components/home/albums/Albums.vue","../../src/services/data/subscription/subscriptionService.js","../../src/components/home/FollowUs.vue","../../src/views/HomeView.vue","../../src/router/index.js","../../src/main.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABqCAYAAABUIcSXAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATESURBVHgB7Z0xTFNRFIYvtBo0xldDjCEOJXFwk0Gjmw4aNnUgsukgkUkcCGyEwbhpHIAJooOOxgHYTBx0w+hQNxOH1sQQVLRFo0RRvP+jr719YGmxlPufnC8x9jXPBt/HOfeccx+PlkQisWoU72k1CgUqigQVRUIy/sbyStooO09bMldxrBFFgooiQUWRoKJIUFEkqCgSVBQJKooEFUWCiiJBRZGgokhQUSSoKBJUFAkqigQVRYKKIkFFkaCiSFBRJIgTlcn8NLnsipGGOFGF/B/z2sqSRtIIA5JWTYuRhjhRuexvI/GnHsSJyubkrU9AnCisUfgjDXmpDxElMPcJXKNkpj5R5bmb8qQJEyVKaiEB5EaUMGnCRJWrCPRTkhAlKi+wLI+QFVGFchTlC7KkeS+qnijJO6mv1qYXn88Qid6Lwnj15PF58/zZsmkkkHPrZsF0n10wqZT/icX7rzCwF/HCxT3hBR0e/FL1XLd3qtZHQfqpE/NWVN7cuXvAMECxRg3c2G/SnUkzPrZkjh55/1/N7IT9DEjHZ1y3n3v6TJthgEIUomrqXnv4Gv0RomFm+oepl2tXF81QMSrT6SRNNAGaqg/f+beLFxbrS2/Ph3CNcXGbXLfqw/mIoocPvoXHWJOePD1kmKAqz5ECL1/ZVzrGGhOXFeFWff19ixXFyKSNTqRSJuj6qKn77RXrSjVZAAXIzPT30vHIaMoWJ3sNG5QN76PHBysuNmSNj31dd97a+0ulY0gaGQ0MIy3xBysyPbQK0eKKqAabJFEPrUJxUcvFr/U8n/FmRY16I1Ru0eS7UCiPd9zeCRVdPfdFzNpSftYp51Gal14XiwpUgkHQGrYCqVRL+DfO82Vq0bTUhwudyfwy76yIrH29JmQllOH7bixkQlokr9MeH+vaFR53de0228GOpT4IwXdqdOcJXjHM2CIQ2eXbOlfDiE4Fzfv6vSkmcCEQbfni7V6YhGPbIpqIV8zxYru3mw1s3XI+SnER5dRn012QKL6XKKXHneq34hHlzRqVCteG+tMIZne1iGIvJqirPvRJQ5tM1KPzhms4z2doRcUnEuiT3BTnzgYB+q1LPR9pt+spRcUlYbtio9Q2EHt/1o6Seq0sRuhEYXvDlYRRUrXtivhEAusZtjvYoBKFyq+/71PpGOltsrhPBYJ/lPtxWdju2Gg26DNUorrPLZTWGGx3YE/J7cXcvsadPgDIwjA3On948HPD78PYTmhEoWqLeikUCdjuqJfzNk3Ovewo9UZIgSzFBYUofOejakOUIIpQJGwVSHrz9nD4GWicJ0hSIIUo9EpYY+ZedVS9GcWdImw2UUBUQjo2FRmiyvv9aIyT4mtRo4D0F1a+imoAQR2C1oa+W/l3egNmU4mGqqCZk+1mIPYRO250SUCUKGxPRAREe121IEuU0+SqKBLikwl2hKW+shymbf5aEPeciVCWPhDEf3A/hLRoAjIjSiDi/ledtojQx8ARgF5KH6xIQDqNO1jliRK36ka3GkuD+sduJKO/K54UFUWCiiJBRZGgokhQUSSoKBJUFAkqigQVRYKKIkFFkaCiSFBRJKgoElQUCSqKBBVFgooiQUWRoKJIWHcXkuInGlEkqCgSVBQJfwFJWMcKLx/BoQAAAABJRU5ErkJggg==\"","/**\r\n * 路徑處理工具\r\n */\r\nexport class PathUtils {\r\n  /**\r\n   * 銜接兩個路徑。\r\n   * @param {string} startPath - 起始路徑，必須有值。\r\n   * @param {string} subPath - 要銜接的子路徑，必須有值。\r\n   * @returns {string} 銜接完成的路徑。\r\n   */\r\n  static append(startPath, subPath) {\r\n    if (!startPath) {\r\n      throw new Error(\"參數 [startPath] 必須有值！\");\r\n    }\r\n    if (!subPath) {\r\n      throw new Error(\"參數 [subPath] 必須有值！\");\r\n    }\r\n\r\n    let path = startPath.endsWith(\"/\") ? startPath : startPath + \"/\";\r\n    path += subPath.startsWith(\"/\") ? subPath.substring(1) : subPath;\r\n    return path;\r\n  }\r\n}\r\n","import { PathUtils } from \"./pathUtils\";\r\n\r\nconst rootUrl = new URL(\"/\", location.href).href;\r\nconst baseUrl = import.meta.env.BASE_URL;\r\nconst projectUrl = PathUtils.append(rootUrl, baseUrl);\r\n\r\nconst scrollWaitingTime = import.meta.env.VITE_SCROLL_WAITING_TIME;\r\n\r\n/**\r\n * 系統共用常數\r\n */\r\nexport class SysConstants {\r\n  /**\r\n   * 根 URL。\r\n   * @type {string}\r\n   */\r\n  static get rootUrl() {\r\n    return rootUrl;\r\n  }\r\n\r\n  /**\r\n   * 基礎 URL。\r\n   * @type {string}\r\n   */\r\n  static get baseUrl() {\r\n    return baseUrl;\r\n  }\r\n\r\n  /**\r\n   * 專案基礎 URL。\r\n   * @type {string}\r\n   */\r\n  static get projectUrl() {\r\n    return projectUrl;\r\n  }\r\n\r\n  /**\r\n   * scrollBehavior 等待時間（毫秒）。\r\n   * @type {number}\r\n   */\r\n  static get scrollWaitingTime() {\r\n    return scrollWaitingTime;\r\n  }\r\n}\r\n","import { SysConstants } from \"./sysConstants\";\r\nimport { PathUtils } from \"./pathUtils\";\r\n\r\nconst publicPath = import.meta.env.VITE_IMG_PUBLIC_PATH;\r\nconst basePath = PathUtils.append(SysConstants.baseUrl, publicPath);\r\n\r\n/**\r\n * 圖片相關事務處理工具\r\n */\r\nexport class ImageUtils {\r\n  /**\r\n   * 圖片起始存放路徑。\r\n   */\r\n  static get publicPath() {\r\n    return publicPath;\r\n  }\r\n\r\n  /**\r\n   * 圖片起始存放區絕對路徑。\r\n   */\r\n  static get basePath() {\r\n    return basePath;\r\n  }\r\n\r\n  /**\r\n   * 取得圖片的完整絕對路徑。\r\n   * @param {string} relativePathName 圖片的相對路徑及名稱。\r\n   * @returns {string} 圖片完整的絕對路徑。\r\n   */\r\n  static getImagePath(relativePathName) {\r\n    return PathUtils.append(basePath, relativePathName);\r\n  }\r\n}\r\n","/**\r\n * 型別處理工具\r\n */\r\nexport class TypeUtils {\r\n  /**\r\n   * 取得原始值。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns 若為原始型別則直接回傳，若為物件則回傳其原始值。\r\n   */\r\n  static getPrimitiveValue(val) {\r\n    return val instanceof Object ? val.valueOf() : val;\r\n  }\r\n\r\n  /**\r\n   * 本身是否為純粹的物件型別？例如 {}。\r\n   * 陣列、數字物件、字串物件、布林物件等不會被視為純粹的物件型別。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 本身為純粹的物件型別則回傳 true，否則回傳 false。\r\n   */\r\n  static isExactObject(val) {\r\n    // prettier-ignore\r\n    // undefined、null 無法轉成 Object，因此會發生異常\r\n    try {\r\n      return Object.getPrototypeOf(val) === Object.prototype;\r\n    }\r\n    // eslint-disable-next-line no-unused-vars\r\n    catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 是否為陣列？\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 陣列回傳 true，否則回傳 false。\r\n   */\r\n  static isArray(val) {\r\n    return Array.isArray(val);\r\n  }\r\n\r\n  /**\r\n   * 是否為事件？\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 事件回傳 true，否則回傳 false。\r\n   */\r\n  static isEvent(val) {\r\n    return val instanceof Event;\r\n  }\r\n\r\n  /**\r\n   * 是否為 HTML 元素？\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 為 HTML 元素回傳 true，否則回傳 false。\r\n   */\r\n  static isHtmlElement(val) {\r\n    return val instanceof HTMLElement;\r\n  }\r\n\r\n  /**\r\n   * 是否為字串？\r\n   * 包含原始型別及物件型別。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 字串回傳 true，否則回傳 false。\r\n   */\r\n  static isString(val) {\r\n    return typeof this.getPrimitiveValue(val) === \"string\";\r\n  }\r\n\r\n  /**\r\n   * 是否為數字？\r\n   * 包含原始型別及物件型別。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 數字回傳 true，否則回傳 false。\r\n   */\r\n  static isNumber(val) {\r\n    return typeof this.getPrimitiveValue(val) === \"number\";\r\n  }\r\n\r\n  /**\r\n   * 是否為 Infinity？\r\n   * 包含原始型別及物件型別。\r\n   * 正負 Infinity 都會視為 Infinity。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 正負 Infinity 均回傳 true，否則回傳 false。\r\n   */\r\n  static isInfinity(val) {\r\n    const primitiveValue = this.getPrimitiveValue(val);\r\n    return primitiveValue === Infinity || primitiveValue === -Infinity;\r\n  }\r\n\r\n  /**\r\n   * 是否為 NaN？\r\n   * 包含原始型別及物件型別。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} NaN 回傳 true，否則回傳 false。\r\n   */\r\n  static isNaN(val) {\r\n    const primitiveValue = this.getPrimitiveValue(val);\r\n    return Number.isNaN(primitiveValue);\r\n  }\r\n\r\n  /**\r\n   * 是否為有效的數字？\r\n   * 包含原始型別及物件型別，會排除 NaN、Infinity。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 不為 NaN、Infinity 的數字回傳 true，否則回傳 false。\r\n   */\r\n  static isValidNumber(val) {\r\n    return Number.isFinite(this.getPrimitiveValue(val));\r\n  }\r\n\r\n  /**\r\n   * 是否為有效的數字格式？\r\n   * 只檢查內容是否為數字，可以是原始型別數字、物件型別數字，以及字串型別數字。\r\n   * 會排除 NaN、Infinity。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 為有效的數字格式回傳 true，否則回傳 false。\r\n   */\r\n  static isValidNumberFormat(val) {\r\n    // 為有效的數字\r\n    if (this.isValidNumber(val)) {\r\n      return true;\r\n    }\r\n\r\n    // 字串 且 內容為有效數字\r\n    if (this.isString(val) && this.isValidNumber(Number(val))) {\r\n      return true;\r\n    }\r\n\r\n    // 其它情況則不為數字\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * 轉換為數字，可將物件型別數字、字串型別數字轉換為原始型別數字。\r\n   * @param {number|Object|string} val 要轉換的值。\r\n   * @returns {number} 原始型別數字。\r\n   * @throws 若不是正常的數字格式則拋出錯誤訊息。\r\n   */\r\n  static converToNumber(val) {\r\n    if (this.isValidNumberFormat(val)) {\r\n      return Number(val);\r\n    }\r\n    throw TypeError(`${val} 為不正確的數字格式！`);\r\n  }\r\n\r\n  /**\r\n   * 是否為 null 或 undefined？\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 為 null 或 undefined 則回傳 true，否則回傳 false。\r\n   */\r\n  static isNullUndefined(val) {\r\n    return val === undefined || val === null;\r\n  }\r\n\r\n  /**\r\n   * 是否為有效值？\r\n   * 空值也算有效值，但會排除 null、undefined、NaN、Infinity。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 不為 null、undefined、NaN、Infinity 即回傳 true，否則回傳 false。\r\n   */\r\n  static isValid(val) {\r\n    return !(this.isNullUndefined(val) || this.isInfinity(val) || this.isNaN(val));\r\n  }\r\n\r\n  /**\r\n   * 是否為空字串？會檢核型別及內容。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 空字串回傳 true，否則回傳 false。\r\n   */\r\n  static isEmptyString(val) {\r\n    return this.isString(val) && val.length <= 0;\r\n  }\r\n\r\n  /**\r\n   * 是否為有內容的字串？會檢核型別及內容。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 字串有內容回傳 true，否則回傳 false。\r\n   */\r\n  static isStringWithValue(val) {\r\n    return this.isString(val) && val.length > 0;\r\n  }\r\n\r\n  /**\r\n   * 是否為空陣列？會檢核型別及內容。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 為空陣列回傳 true，否則回傳 false。\r\n   */\r\n  static isEmptyArray(val) {\r\n    return this.isArray(val) && val.length <= 0;\r\n  }\r\n\r\n  /**\r\n   * 是否為有內容的陣列？會檢核型別及內容。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 陣列有元素回傳 true，否則回傳 false。\r\n   */\r\n  static isArrayWithItems(val) {\r\n    return this.isArray(val) && val.length > 0;\r\n  }\r\n\r\n  /**\r\n   * 是否為空物件？會檢核型別及內容。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 物件沒有屬性回傳 true，否則回傳 false。\r\n   */\r\n  static isEmptyObject(val) {\r\n    return this.isExactObject(val) && Object.keys(val).length <= 0;\r\n  }\r\n\r\n  /**\r\n   * 是否為有內容的物件？會檢核型別及內容。\r\n   * 以鍵項數量判斷是否有屬性。\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 物件有屬性回傳 true，否則回傳 false。\r\n   */\r\n  static isObjectWithKeys(val) {\r\n    return this.isExactObject(val) && Object.keys(val).length > 0;\r\n  }\r\n}\r\n","/**\r\n * 日期時間格式化樣式\r\n */\r\nexport class DateStyles {\r\n  /**\r\n   * 月份英文簡寫。\r\n   */\r\n  static get monthAbbr() {\r\n    return [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n  }\r\n\r\n  /**\r\n   * 西元年月日，無間隔符號，月、日不足兩碼者會在前方補 0。\r\n   * 格式化範例：\"20250102\"。\r\n   */\r\n  static get yyyymmdd() {\r\n    return \"[YYYY][MM][DD]\";\r\n  }\r\n\r\n  /**\r\n   * 西元年月日，之間以 \"/\" 間隔。\r\n   * 格式化範例：\"2025/1/2\"\r\n   */\r\n  static get yyyymdSlash() {\r\n    return \"[YYYY]/[M]/[D]\";\r\n  }\r\n\r\n  /**\r\n   * 西元年月日，之間以 \"/\" 間隔，月、日不足兩碼者會在前方補 0。\r\n   * 格式化範例：\"2025/01/02\"\r\n   */\r\n  static get yyyymmddSlash() {\r\n    return \"[YYYY]/[MM]/[DD]\";\r\n  }\r\n\r\n  /**\r\n   * 西元年月日，之間以 \"-\" 間隔。\r\n   * 格式化範例：\"2025-1-2\"\r\n   */\r\n  static get yyyymdDash() {\r\n    return \"[YYYY]-[M]-[D]\";\r\n  }\r\n\r\n  /**\r\n   * 西元年月日，之間以 \"-\" 間隔，月、日不足兩碼者會在前方補 0。\r\n   * 格式化範例：\"2025-01-02\"\r\n   */\r\n  static get yyyymmddDash() {\r\n    return \"[YYYY]-[MM]-[DD]\";\r\n  }\r\n\r\n  /**\r\n   * 西元日月年，之間以空格間隔，月份為英文縮寫。\r\n   * 格式化範例：\"2 Jan 2025\"\r\n   */\r\n  static get dateAbbrMonthYear() {\r\n    return \"[D] [AbbrM] [YYYY]\";\r\n  }\r\n}\r\n","import { DateStyles } from \"./dateStyles\";\r\n\r\n/**\r\n * 日期時間處理工具\r\n */\r\nexport class DateUtils {\r\n  /**\r\n   * 將月或日前方補 0 至兩碼。\r\n   * @param {number} num\r\n   * @returns {string} 補滿兩碼的字串。\r\n   */\r\n  static #fill(num) {\r\n    return String(num).padStart(2, \"0\");\r\n  }\r\n\r\n  /**\r\n   * 是否為 Date 物件？\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 為 Date 物件回傳 true，否則回傳 false。\r\n   */\r\n  static isDate(val) {\r\n    return val instanceof Date;\r\n  }\r\n\r\n  /**\r\n   * 是否可以轉為日期？\r\n   * @param {*} val 要判斷的值。\r\n   * @returns {boolean} 可以轉為日期回傳 true，否則回傳 false。\r\n   */\r\n  static canBeDate(val) {\r\n    return !Number.isNaN(Date.parse(val));\r\n  }\r\n\r\n  /**\r\n   * 轉換成 Date 物件。\r\n   * @param {*} val 要轉成 Date 物件的值。\r\n   * @returns Date 物件。\r\n   * @throws 若不是正常的日期格式則拋出錯誤訊息。\r\n   */\r\n  static convertToDate(val) {\r\n    // 本身即為日期\r\n    if (this.isDate(val)) {\r\n      return val;\r\n    }\r\n    // 可以轉為日期\r\n    else if (this.canBeDate(val)) {\r\n      return new Date(val);\r\n    }\r\n    // 錯誤\r\n    else {\r\n      throw TypeError(`${val} 為不正確的日期格式！`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 取得月份縮寫。\r\n   * @param {number} month 月份，例如 1 月傳入 1，12 月傳入 12。\r\n   * @returns {string} 月份縮寫。\r\n   */\r\n  static getMonthAbbrByMonth(month) {\r\n    return DateStyles.monthAbbr[month - 1];\r\n  }\r\n\r\n  /**\r\n   * 取得月份縮寫。\r\n   * @param {Date|string|number} date 日期，會經過轉換，所以可以是 Date 物件、日期字串、timestamp。\r\n   * @returns {string} 月份縮寫。\r\n   * @throws 若不是正常的日期格式則拋出錯誤訊息。\r\n   */\r\n  static getMonthAbbrByDate(date) {\r\n    date = this.convertToDate(date);\r\n    return DateStyles.monthAbbr[date.getMonth()];\r\n  }\r\n\r\n  /**\r\n   * 日期加減天數。\r\n   * @param {Date|string|number} date 日期，會經過轉換，所以可以是 Date 物件、日期字串、timestamp。\r\n   * @param {number} [dayNum = 0] 要加減的天數，若為「減」須傳入「負數」。可選，預設為 0。\r\n   * @returns {Date} 處理完成的日期物件。\r\n   * @throws 若不是正常的日期格式則拋出錯誤訊息。\r\n   */\r\n  static countDate(date, dayNum = 0) {\r\n    date = this.convertToDate(date);\r\n    date.setDate(date.getDate() + dayNum);\r\n    return date;\r\n  }\r\n\r\n  /**\r\n   * 依據指定的樣式格式化日期。\r\n   * @param {Date|string|number} date 日期，會經過轉換，所以可以是 Date 物件、日期字串、timestamp。\r\n   * @param {string} [style = DateStyles.yyyymmddSlash] 格式化的樣式，可選，預設為 {@link DateStyles.yyyymmddSlash}。\r\n   * @returns {string} 格式化後的日期字串。\r\n   * @throws 若不是正常的日期格式會拋出錯誤訊息。\r\n   */\r\n  static formatDate(date, style = DateStyles.yyyymmddSlash) {\r\n    date = this.convertToDate(date);\r\n\r\n    return style\r\n      .replace(\"[YYYY]\", date.getFullYear())\r\n      .replace(\"[MM]\", this.#fill(date.getMonth() + 1))\r\n      .replace(\"[DD]\", this.#fill(date.getDate()))\r\n      .replace(\"[M]\", date.getMonth() + 1)\r\n      .replace(\"[D]\", date.getDate())\r\n      .replace(\"[AbbrM]\", this.getMonthAbbrByDate(date));\r\n  }\r\n\r\n  /**\r\n   * 取得系統日期，可以指定格式化的樣式。\r\n   * @param {string} [style = DateStyles.yyyymmddSlash] 格式化的樣式，可選，預設為 {@link DateStyles.yyyymmddSlash}。\r\n   * @returns {string} 格式化後的日期字串。\r\n   */\r\n  static getSysDate(style = DateStyles.yyyymmddSlash) {\r\n    return this.formatDate(new Date(), style);\r\n  }\r\n\r\n  /**\r\n   * 取得明天的日期，可以指定格式化的樣式。\r\n   * @param {string} [style = DateStyles.yyyymmddSlash] 格式化的樣式，可選，預設為 {@link DateStyles.yyyymmddSlash}。\r\n   * @returns {string} 格式化後的日期字串。\r\n   */\r\n  static getTomorrow(style = DateStyles.yyyymmddSlash) {\r\n    return this.formatDate(this.countDate(new Date(), 1), style);\r\n  }\r\n}\r\n","/**\r\n * 資料處理工具\r\n */\r\nexport class DataUtils {\r\n  /**\r\n   * 深拷貝。\r\n   * @param {Object|Array} source 來源資料。\r\n   * @returns {Object|Array} 拷貝的資料。\r\n   */\r\n  static copy(source) {\r\n    return JSON.parse(JSON.stringify(source));\r\n  }\r\n}","import { DataUtils } from \"./dataUtils\";\r\n\r\n/**\r\n * 處理 history state。\r\n */\r\nexport class HistoryStateHelper {\r\n  /**\r\n   * 由 history state 取得資料，物件類型的資料會做拷貝。\r\n   * @param {string} stateName 資料在 history state 中的名稱。\r\n   * @returns {*} 由 history state 取得的資料，若為物件類型則會回傳其深拷貝。\r\n   */\r\n  static getData(stateName) {\r\n    const data = history.state[stateName];\r\n\r\n    if (data instanceof Object) {\r\n      return DataUtils.copy(data);\r\n    } else {\r\n      return data;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 修改 history state 部份資料。\r\n   * @param {Object} data 資料物件，會依據此物件內容更新 history state 內容。\r\n   */\r\n  static updateData(data) {\r\n    history.replaceState({ ...history.state, ...data }, \"\");\r\n  }\r\n}\r\n","/**\r\n * loading 設定。\r\n */\r\nexport class LoadingSettings {\r\n  /**\r\n   * 基本設定選項。\r\n   * @typedef {Object} LoadingBaseSettings\r\n   * @property {string} color loading 圖示顏色（CSS 顏色值），預設為 \"blue\"。\r\n   * @property {string} loader loading 樣式（如 'dots'、'bars'、'spinner' 等），預設為 \"dots\"。\r\n   * @property {number} zIndex loading 遮罩的 z-index 層級，預設為 1059 以避免遮蔽 SWAL2。\r\n   * @property {boolean} enforceFocus 是否強制 focus loading，預設為 false 以避免使 SWAL2 失焦。\r\n   * @returns {LoadingBaseSettings} loading 基本設定物件。\r\n   */\r\n  static get baseSettings() {\r\n    return {\r\n      // color: \"var(--bs-primary)\",\r\n      color: \"blue\",\r\n      loader: \"dots\",\r\n      zIndex: 1059, // 避免遮蔽 SWAL2 (SWAL2 的 z-index 為 1060)\r\n      enforceFocus: false, // 避免使 SWAL2 失焦\r\n    };\r\n  }\r\n}\r\n","import { defineRule, configure } from \"vee-validate\";\r\nimport { required, email } from \"@vee-validate/rules\";\r\nimport { localize, setLocale } from \"@vee-validate/i18n\";\r\nimport zh_TW from \"@vee-validate/i18n/dist/locale/zh_TW.json\";\r\n\r\n/** VeeValidate 相關功能 */\r\nexport class VeeValidateHelper {\r\n  /**\r\n   * 初始化 VeeValidate 環境。\r\n   */\r\n  static initEnv() {\r\n    // 定義驗證規則\r\n    defineRule(\"required\", required);\r\n    defineRule(\"email\", email);\r\n\r\n    // 配置設定\r\n    configure({\r\n      validateOnBlur: false,\r\n      validateOnChange: false,\r\n      generateMessage: localize({ zh_TW }),\r\n    });\r\n\r\n    // 設定預設語系為繁體中文\r\n    setLocale(\"zh_TW\");\r\n  }\r\n}\r\n","/**\r\n * 訊息窗各種基礎設定選項。\r\n */\r\nexport class AlertOptions {\r\n  /** 基本。 */\r\n  static get base() {\r\n    return {\r\n      position: \"top\", // 指定位置於上方置中\r\n      confirmButtonText: \"確定\", // confirm button 所顯示的文字\r\n    };\r\n  }\r\n\r\n  /** 成功。 */\r\n  static get success() {\r\n    return {\r\n      icon: \"success\", // 使用成功的圖示\r\n    };\r\n  }\r\n\r\n  /** 警告。 */\r\n  static get warning() {\r\n    return {\r\n      icon: \"warning\", // 使用警告的圖示\r\n      confirmButtonColor: \"var(--bs-warning)\", // 指定 confirm button 的顏色\r\n      confirmButtonText: \"好的\",\r\n    };\r\n  }\r\n\r\n  /** 訊息。 */\r\n  static get info() {\r\n    return {\r\n      icon: \"info\", // 使用訊息的圖示\r\n      confirmButtonColor: \"var(--bs-info)\", // 指定 confirm button 的顏色\r\n    };\r\n  }\r\n\r\n  /** 問題。 */\r\n  static get question() {\r\n    return {\r\n      icon: \"question\", // 使用問題的圖示\r\n    };\r\n  }\r\n\r\n  /** 錯誤。 */\r\n  static get error() {\r\n    return {\r\n      // 額外給予自訂的 class\r\n      customClass: {\r\n        title: \"text-danger\",\r\n        // htmlContainer: \"text-danger\",\r\n      },\r\n\r\n      icon: \"error\", // 使用錯誤的圖示\r\n      confirmButtonColor: \"var(--bs-danger)\", // 指定 confirm button 的顏色\r\n      confirmButtonText: \"我知道了\", // confirm button 所顯示的文字\r\n    };\r\n  }\r\n\r\n  /** 鎖定訊息視窗 (不允許使用 ESC 或點擊外部關閉)。 */\r\n  static get lock() {\r\n    return {\r\n      allowOutsideClick: false, // 不允許點擊外部關閉視窗\r\n      allowEscapeKey: false, // 不允許使用 ESC 關閉視窗\r\n    };\r\n  }\r\n\r\n  /** 開啟訊息視窗後不聚焦任何按鈕，以避免直接使用 Enter 關閉。 */\r\n  static get defocusButton() {\r\n    return {\r\n      // 在 didOpen 生命週期設定聚焦於彈出的視窗，以使按鈕失焦\r\n      didOpen(popup) {\r\n        popup.focus();\r\n      },\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 強制注意的訊息窗。\r\n   * 移除可以直接無腦關閉視窗的方法，以提高使用者的注意。\r\n   */\r\n  static get forceFocus() {\r\n    return {\r\n      ...this.lock,\r\n      ...this.defocusButton,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Timer。\r\n   * 時間到自動關閉訊息，為短暫的、非強制性的訊息通知。\r\n   */\r\n  static get timer() {\r\n    return {\r\n      showConfirmButton: false, // 不顯示 confirm button\r\n      timer: 1200, // 持續時間 (毫秒)\r\n    };\r\n  }\r\n}\r\n","import Swal from \"sweetalert2\";\r\nimport { AlertOptions } from \"./alertOptions\";\r\n\r\n/**\r\n * 各種基本的訊息窗。\r\n */\r\nexport class BasicAlert {\r\n  /** 基礎訊息窗。 */\r\n  static get baseAlert() {\r\n    return Swal.mixin(AlertOptions.base);\r\n  }\r\n\r\n  /** 成功訊息窗。 */\r\n  static get sucessAlert() {\r\n    return this.baseAlert.mixin(AlertOptions.success);\r\n  }\r\n\r\n  /** 錯誤訊息窗。 */\r\n  static get errorAlert() {\r\n    return this.baseAlert.mixin(AlertOptions.error);\r\n  }\r\n\r\n  /** 警告訊息窗。 */\r\n  static get warningAlert() {\r\n    return this.baseAlert.mixin(AlertOptions.warning);\r\n  }\r\n\r\n  /** 資訊訊息窗。 */\r\n  static get infoAlert() {\r\n    return this.baseAlert.mixin(AlertOptions.info);\r\n  }\r\n\r\n  /** 問題訊息窗。 */\r\n  static get questionAlert() {\r\n    return this.baseAlert.mixin(AlertOptions.question);\r\n  }\r\n}\r\n","import { AlertOptions } from \"./alertOptions\";\r\nimport { BasicAlert } from \"./basicAlert\";\r\n\r\n/**\r\n * 有 confirm button 的訊息窗。\r\n */\r\nexport class ConfirmAlert extends BasicAlert {\r\n  /**\r\n   * 顯示成功訊息。\r\n   * @param {string} [msg = \"\"] 成功訊息，應簡短扼要。\r\n   * @param {Object} [options = {}] 可另外給予自訂的 SweetAlert2 的設定。\r\n   */\r\n  static alertSuccess(msg = \"\", options = {}) {\r\n    this.sucessAlert.fire({\r\n      ...options,\r\n      title: msg,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 顯示警告訊息。\r\n   * @param {string} [msg = \"\"] 警告訊息，應簡短扼要。\r\n   * @param {Object} [options = {}] 可另外給予自訂的 SweetAlert2 的設定。\r\n   */\r\n  static alertWarning(msg = \"\", options = {}) {\r\n    this.warningAlert.fire({\r\n      ...options,\r\n      title: msg,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 顯示警告訊息，會列出標題及說明。\r\n   * @param {string} [msg = \"\"] 警告訊息，應簡短扼要。\r\n   * @param {string} [detail = \"\"] 說明。\r\n   * @param {Object} [options = {}] 可另外給予自訂的 SweetAlert2 的設定。\r\n   */\r\n  static alertWarningDetail(msg = \"\", detail = \"\", options = {}) {\r\n    this.warningAlert.fire({\r\n      ...options,\r\n      title: msg,\r\n      text: detail,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 顯示錯誤訊息，具有強制注意的效果。\r\n   * @param {string} [msg = \"\"] 錯誤訊息，應簡短扼要。\r\n   * @param {Object} [options = {}] 可另外給予自訂的 SweetAlert2 的設定。\r\n   */\r\n  static alertError(msg = \"\", options = {}) {\r\n    this.errorAlert.fire({\r\n      ...AlertOptions.forceFocus,\r\n      ...options,\r\n      title: msg,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 顯示錯誤訊息，會列出標題及說明，並具有強制注意的效果。\r\n   * @param {string} [title = \"\"] 標題，應簡短扼要。\r\n   * @param {string} [detail = \"\"] 說明。\r\n   * @param {Object} [options = {}] 可另外給予自訂的 SweetAlert2 的設定。\r\n   */\r\n  static alertErrorDetail(title = \"\", detail = \"\", options = {}) {\r\n    this.errorAlert.fire({\r\n      ...AlertOptions.forceFocus,\r\n      ...options,\r\n      title: title,\r\n      text: detail,\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * Timer 類型的訊息窗。\r\n */\r\nexport class TimerAlert extends BasicAlert {\r\n  /**\r\n   * 顯示成功訊息，時間到會自動關閉訊息窗。\r\n   * @param {string} [msg = \"\"] 成功訊息，應簡短扼要。\r\n   * @param {Object} [options = {}] 可另外給予自訂的 SweetAlert2 的設定。\r\n   */\r\n  static alertSuccess(msg = \"\", options = {}) {\r\n    this.sucessAlert.fire({\r\n      ...AlertOptions.timer,\r\n      ...options,\r\n      title: msg,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 顯示錯誤訊息，時間到會自動關閉訊息窗。\r\n   * @param {string} [msg = \"\"] 錯誤訊息，應簡短扼要。\r\n   * @param {Object} [options = {}] 可另外給予自訂的 SweetAlert2 的設定。\r\n   */\r\n  static alertError(msg = \"\", options = {}) {\r\n    this.errorAlert.fire({\r\n      ...AlertOptions.timer,\r\n      ...options,\r\n      title: msg,\r\n    });\r\n  }\r\n}\r\n","import { TypeUtils } from \"../typeUtils\";\r\n\r\n/**\r\n * 事件工具共用基礎。\r\n */\r\nexport class EventBase {\r\n  /**\r\n   * 被監聽的元素。\r\n   * @type {HTMLElement}\r\n   * @protected\r\n   */\r\n  _elem;\r\n\r\n  /**\r\n   * 事件工具共用基礎。\r\n   * @param {HTMLElement} elem 需要被監聽的元素，必填。\r\n   * @throws 檢查 elem，若不正確會拋出錯誤。\r\n   */\r\n  constructor(elem) {\r\n    if (!TypeUtils.isHtmlElement(elem)) {\r\n      throw Error(\"[elem] 必須傳入 HTML 元素！\");\r\n    }\r\n    this._elem = elem;\r\n  }\r\n}\r\n","import { EventBase } from \"./eventBase\";\r\n\r\n/** 禁用鍵盤的相關處理。 */\r\nexport class KeyboardDisableHelper extends EventBase {\r\n  /** 是否已禁用鍵盤？ */\r\n  #isDisabled = false;\r\n\r\n  /** 是否已禁用鍵盤？ */\r\n  get isDisabled() {\r\n    return this.#isDisabled;\r\n  }\r\n\r\n  /**\r\n   * 鍵盤禁用效果中止控制器。\r\n   * @type {AbortController}\r\n   */\r\n  #disabledAbortController;\r\n\r\n  /**\r\n   * 禁用鍵盤的相關處理。\r\n   * @param {HTMLElement} elem 需要被監聽的元素，必填。\r\n   * @throws 檢查 elem，若不正確會拋出錯誤。\r\n   */\r\n  constructor(elem) {\r\n    super(elem);\r\n  }\r\n\r\n  /**\r\n   * 禁用鍵盤，可使用 {@link enable} 中止禁用效果。\r\n   */\r\n  disable() {\r\n    // 若已禁用鍵盤則不重複執行，以避免無法中止\r\n    if (this.isDisabled) {\r\n      return;\r\n    }\r\n\r\n    // 於捕獲階段觸發\r\n    const options = { capture: true };\r\n\r\n    // 允許中止\r\n    this.#disabledAbortController = new AbortController();\r\n    options.signal = this.#disabledAbortController.signal;\r\n\r\n    // 只需屏蔽 keydown、keyup，因為只要屏蔽了 keydown 就不會觸發 keypress\r\n    [\"keydown\", \"keyup\"].forEach((item) => {\r\n      this._elem.addEventListener(\r\n        item,\r\n        (event) => {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        },\r\n        options\r\n      );\r\n    });\r\n\r\n    this.#isDisabled = true;\r\n  }\r\n\r\n  /**\r\n   * 中止鍵盤禁用效果。\r\n   */\r\n  enable() {\r\n    if (this.#disabledAbortController) {\r\n      this.#disabledAbortController.abort();\r\n      this.#disabledAbortController = undefined;\r\n      this.#isDisabled = false;\r\n    }\r\n  }\r\n}\r\n","<template>\r\n  <!-- Header 各裝置共用的選單 -->\r\n  <ul class=\"d-flex flex-column flex-md-row column-gap-6 row-gap-4 py-6 py-md-0 fs-18 lh-1d155\">\r\n    <!-- 註冊 -->\r\n    <li>\r\n      <a href=\"#\" class=\"hover-color\" @click.prevent=\"register\">\r\n        <i class=\"icofont-ui-file me-2px\"></i>\r\n        <span>REGISTER</span>\r\n      </a>\r\n    </li>\r\n    <!-- 登入 -->\r\n    <li>\r\n      <a href=\"#\" class=\"hover-color\" @click.prevent=\"login\">\r\n        <i class=\"icofont-ui-user me-2px\"></i>\r\n        <span>LOGIN</span>\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport { ConfirmAlert } from '@/helpers';\r\n\r\nexport default {\r\n  methods: {\r\n    /**\r\n     * 註冊\r\n     * @param {Event} e 點擊事件物件\r\n     */\r\n    // eslint-disable-next-line no-unused-vars\r\n    register(e) {\r\n      // TODO 註冊功能\r\n      ConfirmAlert.alertWarningDetail(\"施工中...\", \"註冊功能尚未開放，敬請期待！\");\r\n    },\r\n\r\n    /**\r\n     * 登入\r\n     * @param {Event} e 點擊事件物件\r\n     */\r\n    // eslint-disable-next-line no-unused-vars\r\n    login(e) {\r\n      // TODO 登入功能\r\n      ConfirmAlert.alertWarningDetail(\"施工中...\", \"登入功能尚未開放，敬請期待！\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.hover-color {\r\n  &:hover {\r\n    color: #9c9e18;\r\n  }\r\n}\r\n</style>\r\n","<!-- eslint-disable vue/multi-word-component-names -->\r\n<template>\r\n  <header class=\"py-3 py-md-6 border-2 border-md-3 border-bottom border-primary\">\r\n    <div class=\"container\">\r\n      <nav class=\"navbar\">\r\n        <div class=\"d-flex align-items-center\">\r\n          <!-- 主標題 -->\r\n          <h1 class=\"me-25px me-md-12\">\r\n            <RouterLink to=\"/\" class=\"d-flex align-items-center\">\r\n              <img src=\"@/assets/images/logo.png\" alt=\"logo\" class=\"logo\" />\r\n              <span class=\"d-none d-xl-inline-block fs-32 ms-4 me-1\">7TAO</span>\r\n              <span class=\"d-none d-xl-inline-block fs-16 fw-bold\">活動訂票網</span>\r\n            </RouterLink>\r\n          </h1>\r\n\r\n          <!-- TODO 搜尋功能 -->\r\n          <!-- <div class=\"search input-group\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"search-input form-control\"\r\n              placeholder=\"探索活動\"\r\n              aria-label=\"探索活動\"\r\n            />\r\n            <button class=\"search-btn btn btn-primary\" type=\"button\">\r\n              <i class=\"icofont-search-1 text-secondary fs-15 fs-md-19\"></i>\r\n            </button>\r\n          </div> -->\r\n        </div>\r\n\r\n        <!-- 平板以上選單 -->\r\n        <div class=\"d-none d-md-block\">\r\n          <CollapseMenu />\r\n        </div>\r\n        <!-- 手機版折疊選單按鈕 -->\r\n        <button\r\n          class=\"navbar-toggler d-md-none\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#collapseMenu\"\r\n          aria-controls=\"collapseMenu\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"展開選單\"\r\n        >\r\n          <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n      </nav>\r\n    </div>\r\n    <!-- container end -->\r\n  </header>\r\n\r\n  <!-- 手機折疊選單內容 -->\r\n  <div class=\"collapse navbar-collapse d-md-none\" id=\"collapseMenu\" @click.stop>\r\n    <div class=\"container\">\r\n      <CollapseMenu />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted } from \"vue\";\r\nimport { RouterLink } from \"vue-router\";\r\nimport CollapseMenu from \"./CollapseMenu.vue\";\r\n\r\nonMounted(() => {\r\n  // 元素 - 折疊選單\r\n  const elemMenu = document.querySelector(\"#collapseMenu\");\r\n\r\n  // 顯示折疊選單的 class 名稱\r\n  const classShow = \"show\";\r\n\r\n  /**\r\n   * 關閉折疊選單。\r\n   */\r\n  function closeMenu() {\r\n    const menuClasses = elemMenu.classList;\r\n    if (menuClasses.contains(classShow)) {\r\n      menuClasses.remove(classShow);\r\n    }\r\n  }\r\n\r\n  // 以下動作均會觸發關閉折疊選單\r\n  [\"click\", \"keydown\", \"scroll\"].forEach((eventItem) => {\r\n    document.addEventListener(eventItem, closeMenu);\r\n  });\r\n  // 改變視窗大小時關閉折疊選單\r\n  window.addEventListener(\"resize\", closeMenu);\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use \"@/assets/scss/mixins/rwd\";\r\n\r\n.logo {\r\n  width: 40px;\r\n  height: 40px;\r\n  @include rwd.pad-up {\r\n    width: 53px;\r\n    height: 53px;\r\n  }\r\n}\r\n\r\n// 手機版折疊選單 - button\r\n.navbar-toggler {\r\n  width: 54px;\r\n  height: 38px;\r\n}\r\n// 手機版折疊選單 - 選單內容\r\n.navbar-collapse {\r\n  border-bottom: 2px solid var(--bs-primary);\r\n  background-color: var(--bs-body-bg);\r\n  position: absolute;\r\n  width: 100%;\r\n  z-index: 5;\r\n}\r\n\r\n// 搜尋功能\r\n.search {\r\n  width: 207px;\r\n  height: 39px;\r\n  @include rwd.pad-up {\r\n    width: 335px;\r\n    height: 55px;\r\n  }\r\n}\r\n.search-input {\r\n  padding: 0 10px;\r\n  @include rwd.pad-up {\r\n    padding: 0 22px;\r\n  }\r\n}\r\n.search-btn {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 39px;\r\n\r\n  @include rwd.pad-up {\r\n    width: 55px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <!-- 全域 Header -->\r\n  <Header />\r\n\r\n  <!-- 主要內容區 -->\r\n  <RouterView />\r\n\r\n  <!-- 全域 Footer -->\r\n  <footer class=\"py-6 py-md-8 border-top border-3 border-primary\">\r\n    <p class=\"fs-14 fs-md-16 lh-1d448 font-noto-sans-tc text-center\">\r\n      © 7TAO七逃. All Rights Reserved\r\n    </p>\r\n  </footer>\r\n</template>\r\n\r\n<script setup>\r\nimport { RouterView } from \"vue-router\";\r\nimport Header from \"./components/global/header/Header.vue\";\r\n</script>\r\n","import { defineStore } from \"pinia\";\r\nimport { useLoading } from \"vue-loading-overlay\";\r\nimport { LoadingSettings, KeyboardDisableHelper } from \"@/helpers\";\r\n\r\n/**\r\n * 全域 loading 狀態管理。\r\n */\r\nexport const useLoadingStore = defineStore(\"loadingStore\", () => {\r\n  /**\r\n   * vue-loading-overlay 物件。\r\n   * @type {import('vue-loading-overlay').PluginApi}\r\n   */\r\n  const vueLoading = useLoading(LoadingSettings.baseSettings);\r\n\r\n  /**\r\n   * vue-loading-overlay 開啟的 loader 物件。\r\n   * @type {import('vue-loading-overlay').ActiveLoader|null}\r\n   */\r\n  let loader = null;\r\n\r\n  /** 共同使用此 loading 的程式數量，用來作為控制 loading 開關的依據。 */\r\n  let loadingCnt = 0;\r\n\r\n  /** 是否已開啟 loading？用來作為控制 loading 開關的依據。 */\r\n  let isOpened = false;\r\n\r\n  /**\r\n   * app 區域的禁用鍵盤的工具。\r\n   * @type {KeyboardDisableHelper}\r\n   */\r\n  const appKeyboard = new KeyboardDisableHelper(document.querySelector(\"#app\"));\r\n\r\n  /**\r\n   * 檢查 loading 並控制其開關。\r\n   */\r\n  function checkLoading() {\r\n    // 開啟\r\n    if (!isOpened && loadingCnt === 1) {\r\n      // loading 期間屏蔽鍵盤動作\r\n      appKeyboard.disable();\r\n\r\n      loader = vueLoading.show();\r\n\r\n      // 使 loading 取得焦點，並且禁止鍵盤操作 (主要防止 tab)\r\n      const elemOverlay = document.querySelector(\".vl-overlay.vl-full-page\");\r\n      elemOverlay.focus();\r\n      new KeyboardDisableHelper(elemOverlay).disable();\r\n\r\n      isOpened = true;\r\n    }\r\n    // 關閉\r\n    else if (isOpened && loadingCnt <= 0) {\r\n      reset();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 開啟 loading。\r\n   */\r\n  function open() {\r\n    loadingCnt++;\r\n    checkLoading();\r\n  }\r\n\r\n  /**\r\n   * 關閉 loading。\r\n   */\r\n  function close() {\r\n    loadingCnt--;\r\n    checkLoading();\r\n  }\r\n\r\n  /**\r\n   * 重新初始化設定以便重新開始使用。\r\n   */\r\n  function reset() {\r\n    appKeyboard.enable(); // 取消鍵盤屏蔽\r\n\r\n    if (loader) {\r\n      loader.hide();\r\n    }\r\n\r\n    loader = null;\r\n    loadingCnt = 0;\r\n    isOpened = false;\r\n  }\r\n\r\n  return { open, close, reset };\r\n});\r\n","import axios from \"axios\";\r\n\r\n/**\r\n * API 共用設定\r\n */\r\nexport class Api {\r\n  static #axios = axios.create({\r\n    baseURL: import.meta.env.VITE_API_BASE_URL,\r\n  });\r\n\r\n  static get _axios() {\r\n    return Api.#axios;\r\n  }\r\n}\r\n","import { Api } from \"./api\";\r\n\r\n/**\r\n * Tag API 介接\r\n */\r\nexport class TagApi extends Api {\r\n  static get url() {\r\n    return \"/tags\";\r\n  }\r\n\r\n  /**\r\n   * 取得所有 Tag 資料。\r\n   * @returns {Promise} 執行 axios 回傳的 Promise。\r\n   */\r\n  static fetchTags() {\r\n    return this._axios.get(`${this.url}`);\r\n  }\r\n}\r\n","import { Api } from \"./api\";\r\nimport { DateUtils } from \"@/helpers\";\r\n\r\n/**\r\n * Event API 介接\r\n */\r\nexport class EventApi extends Api {\r\n  static get url() {\r\n    return \"/events\";\r\n  }\r\n\r\n  /**\r\n   * 取得所有未過期活動，預設以日期由近至遠排序。\r\n   * @returns {Promise} 執行 axios 回傳的 Promise。\r\n   */\r\n  static fetchEvents() {\r\n    return this._axios.get(`${this.url}?date_gte=${DateUtils.getTomorrow()}&_sort=date`);\r\n  }\r\n\r\n  /**\r\n   * 取得單一活動資訊。\r\n   * @param {number} id 活動 ID。\r\n   * @returns {Promise} 執行 axios 回傳的 Promise。\r\n   */\r\n  static fetchEvent(id) {\r\n    return this._axios.get(`${this.url}/${id}`);\r\n  }\r\n\r\n  /**\r\n   * 取得 banner 活動，預設以日期由近至遠排序。\r\n   * @returns {Promise} 執行 axios 回傳的 Promise。\r\n   */\r\n  static fetchBanners() {\r\n    return this._axios.get(`${this.url}?isBanner=true&_sort=date`);\r\n  }\r\n\r\n  /**\r\n   * 取得活動相簿，預設以日期由近至遠排序。\r\n   * @returns {Promise} 執行 axios 回傳的 Promise。\r\n   */\r\n  static fetchAlbums() {\r\n    return this._axios.get(`${this.url}?albumPhotos_ne&_sort=date&_order=desc`);\r\n  }\r\n}\r\n","import { Api } from \"./api\";\r\n\r\n/**\r\n * Subscription API 介接\r\n */\r\nexport class SubscriptionApi extends Api {\r\n  static get url() {\r\n    return \"/subscriptions\";\r\n  }\r\n\r\n  /**\r\n   * 取得所有 Subscription 資料。\r\n   * @returns {Promise} 執行 axios 回傳的 Promise。\r\n   */\r\n  static fetchSubscriptions() {\r\n    return this._axios.get(`${this.url}`);\r\n  }\r\n\r\n  /**\r\n   * 以 ID 取得唯一的 Subscription 資料。\r\n   * @param {number} id 欲取得資料的 ID。\r\n   * @returns {Promise} 執行 axios 回傳的 Promise。\r\n   */\r\n  static fetchSubscription(id) {\r\n    return this._axios.get(`${this.url}/${id}`);\r\n  }\r\n\r\n  /**\r\n   * 以 email 取得 Subscription 資料。\r\n   * 正確規格不會有重複的 email，故應只會有一筆。\r\n   * @param {string} email Email。\r\n   * @returns {Promise} 執行 axios 回傳的 Promise。\r\n   */\r\n  static fetchSubscriptionByEmail(email) {\r\n    return this._axios.get(`${this.url}?email=${email}`);\r\n  }\r\n\r\n  /**\r\n   * 新增 subscription 資料。\r\n   * @param {Object} data subscription 資料。\r\n   * @returns {Promise} 執行 axios 回傳的 Promise。\r\n   */\r\n  static postSubscription(data) {\r\n    return this._axios.post(`${this.url}`, data);\r\n  }\r\n\r\n  /**\r\n   * 修改 subscription 資料。\r\n   * @param {number} id 欲修改資料的 ID。\r\n   * @param {Object} data subscription 資料。\r\n   * @returns {Promise} 執行 axios 回傳的 Promise。\r\n   */\r\n  static putSubscription(id, data) {\r\n    return this._axios.put(`${this.url}/${id}`, data);\r\n  }\r\n\r\n  /**\r\n   * 刪除 subscription 資料。\r\n   * @param {number} id 欲刪除的資料 ID。\r\n   * @returns {Promise} 執行 axios 回傳的 Promise。\r\n   */\r\n  static deleteSubscription(id) {\r\n    return this._axios.delete(`${this.url}/${id}`);\r\n  }\r\n}\r\n","import { TypeUtils } from \"@/helpers\";\r\n\r\n/**\r\n * 單筆資料基礎內容\r\n */\r\nexport class Record {\r\n  static #props = [\"id\"];\r\n\r\n  /**\r\n   * ID。\r\n   * @type {number}\r\n   */\r\n  id;\r\n\r\n  /**\r\n   * 單筆資料基礎內容。\r\n   * @param {Object[]} data 資料。\r\n   */\r\n  constructor(data) {\r\n    this._assignData(data, Record.#props);\r\n  }\r\n\r\n  /**\r\n   * 設定 class 資料。\r\n   * 以 class 屬性名稱查找資料的同名屬性，\r\n   * 若資料屬性的內容為 null 或 undefined，則會使用 class 屬性預設值；\r\n   * 否則會設定為資料的屬性內容。\r\n   * @param {Object<string, *>} data 資料。\r\n   * @param {string[]} props class 屬性名稱。\r\n   * @protected\r\n   */\r\n  _assignData(data, props) {\r\n    if (TypeUtils.isObjectWithKeys(data) && TypeUtils.isArrayWithItems(props)) {\r\n      props.forEach((key) => {\r\n        this[key] = data[key] ?? this[key];\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Record } from \"../record\";\r\n\r\n/**\r\n * Tag 單筆資料。\r\n */\r\nexport class TagRecord extends Record {\r\n  static #props = [\"name\"];\r\n\r\n  /**\r\n   * 名稱。\r\n   * @type {string}\r\n   */\r\n  name;\r\n\r\n  /**\r\n   * Tag 單筆資料。\r\n   * @param {Object} data Tag 資料。\r\n   */\r\n  constructor(data) {\r\n    super(data);\r\n    this._assignData(data, TagRecord.#props);\r\n  }\r\n}\r\n","import { TagApi } from \"@/api\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport { TagRecord } from \"./tagRecord\";\r\n\r\n/**\r\n * Tag 資料相關邏輯\r\n */\r\nexport class TagService {\r\n  /**\r\n   * 取得所有 Tag 資料。\r\n   * 對應於 {@link TagApi.fetchTags} 的處理。\r\n   * @returns {Promise<Object[]>} 由後端取回的資料，預設空陣列。\r\n   */\r\n  static async fetchTags() {\r\n    let result;\r\n    await TagApi.fetchTags()\r\n      .then((res) => {\r\n        result = res.data;\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n    return result || [];\r\n  }\r\n\r\n  /**\r\n   * 以名稱搜尋資料，會先使用完全比對，若查無資料再使用模糊比對。\r\n   * @param {TagRecord[]} tags Tag 資料集。\r\n   * @param {string} name 要比對名稱的字串。\r\n   * @returns {TagRecord} 第一個找到的 Tag 資料。\r\n   */\r\n  static searchByName(tags, name) {\r\n    // 完全比對\r\n    let result = tags.find((item) => {\r\n      return item.name === name;\r\n    });\r\n\r\n    // 若查無資料\r\n    if (!result) {\r\n      // 模糊比對\r\n      result = tags.find((item) => {\r\n        return item.name.includes(name);\r\n      });\r\n    }\r\n\r\n    return result;\r\n  }\r\n}\r\n","/**\r\n * 資料模型\r\n */\r\nexport class Model {\r\n  /** @protected */\r\n  _datas = [];\r\n}\r\n","import { Model } from \"../model\";\r\nimport { TagRecord } from \"./tagRecord\";\r\nimport { TagService } from \"./tagService\";\r\n\r\n/**\r\n * Tag 資料模型\r\n */\r\nexport class TagModel extends Model {\r\n  /**\r\n   * Tag 資料集。\r\n   * @type {TagRecord[]}\r\n   */\r\n  get datas() {\r\n    return this._datas;\r\n  }\r\n\r\n  /**\r\n   * 以 Tag ID 為鍵項的鍵值對應資料。\r\n   * @type {Object<number, TagRecord>}\r\n   * @protected\r\n   */\r\n  _idMap = {};\r\n\r\n  /**\r\n   * Tag 資料模型。\r\n   * @param {Object[]} [tags] Tag 資料集。\r\n   */\r\n  constructor(tags = []) {\r\n    super();\r\n\r\n    tags.forEach((item) => {\r\n      // 轉換資料\r\n      const tagRecord = new TagRecord(item);\r\n      // 建置資料集\r\n      this._datas.push(tagRecord);\r\n      // 建置 ID 對應資料。\r\n      this._idMap[tagRecord.id] = tagRecord;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 以 ID 取得 Tag 名稱。\r\n   * @param {number} id Tag 的 ID。\r\n   * @returns {string | undefined} Tag 的名稱。\r\n   */\r\n  getNameById(id) {\r\n    return this._idMap[id]?.name;\r\n  }\r\n\r\n  /**\r\n   * 以名稱找到對應的 Tag ID，會先使用完全比對，若查無資料再使用模糊比對。\r\n   * @param {string} name 要比對名稱的字串。\r\n   * @returns {number | undefined} 第一個找到的 Tag ID。\r\n   */\r\n  getIdByName(name) {\r\n    return TagService.searchByName(this._datas, name)?.id;\r\n  }\r\n\r\n  /**\r\n   * 建立標籤物件。\r\n   * @param {number} id Tag ID。\r\n   * @returns {TagObj} 標籤物件。\r\n   */\r\n  createTagObj(id) {\r\n    return {\r\n      id,\r\n      name: this.getNameById(id),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 檢驗是否為 TagModel。\r\n   * @param {*} model 要檢驗的值。\r\n   * @returns {boolean} 為 TagModel 回傳 true，否則回傳 false。\r\n   */\r\n  static isMe(model) {\r\n    return model && Object.getPrototypeOf(model) === this.prototype;\r\n  }\r\n}\r\n","import { DateStyles, DateUtils } from \"@/helpers\";\r\n\r\n/**\r\n * 日期相關處理\r\n */\r\nexport class DateService {\r\n  /**\r\n   * 格式化為 {@link DateStyles.dateAbbrMonthYear}。\r\n   * @param {Date|string|number} date 日期，可以是 Date 物件、日期字串、timestamp。\r\n   * @returns {string} 格式化後的日期字串。\r\n   * @throws 若不是正常的日期格式會拋出錯誤訊息。\r\n   */\r\n  static formatAsDateAbbrMonthYear(date) {\r\n    return DateUtils.formatDate(date, DateStyles.dateAbbrMonthYear);\r\n  }\r\n}\r\n","import { Record } from \"../record\";\r\nimport { DateService } from \"@/services/dateService\";\r\n\r\n/**\r\n * Event 單筆資料。\r\n */\r\nexport class EventRecord extends Record {\r\n  static #props = [\r\n    \"date\",\r\n    \"sTime\",\r\n    \"eTime\",\r\n    \"title\",\r\n    \"subTitle\",\r\n    \"opening\",\r\n    \"desc\",\r\n    \"img\",\r\n    \"tags\",\r\n    \"isOnSale\",\r\n    \"isBanner\",\r\n    \"bannerDesc\",\r\n  ];\r\n\r\n  /**\r\n   * 活動日期。\r\n   * @type {string}\r\n   */\r\n  date;\r\n\r\n  /**\r\n   * 活動日期，使用月份縮寫格式，參考 {@link DateStyles.dateAbbrMonthYear}。\r\n   * @type {string}\r\n   */\r\n  abbrDate;\r\n\r\n  /**\r\n   * 開始時間。\r\n   * @type {string}\r\n   */\r\n  sTime;\r\n\r\n  /**\r\n   * 結束時間。\r\n   * @type {string}\r\n   */\r\n  eTime;\r\n\r\n  /**\r\n   * 標題。\r\n   * @type {string}\r\n   */\r\n  title;\r\n\r\n  /**\r\n   * 子標題。\r\n   * @type {string}\r\n   */\r\n  subTitle;\r\n\r\n  /**\r\n   * 開場白。\r\n   * @type {string}\r\n   */\r\n  opening;\r\n\r\n  /**\r\n   * 內容說明。\r\n   * @type {string}\r\n   */\r\n  desc;\r\n\r\n  /**\r\n   * 圖片網址。\r\n   * @type {string}\r\n   */\r\n  img;\r\n\r\n  /**\r\n   * 所有分類標籤 ID。\r\n   * @type {number[]}\r\n   */\r\n  tags;\r\n\r\n  /**\r\n   * 是否販售中？\r\n   * @type {boolean}\r\n   */\r\n  isOnSale = false;\r\n\r\n  /**\r\n   * 是否作為 Banner？\r\n   * @type {boolean}\r\n   */\r\n  isBanner = false;\r\n\r\n  /**\r\n   * Banner 內容。\r\n   * @type {string}\r\n   */\r\n  bannerDesc;\r\n\r\n  /**\r\n   * Event 單筆資料。\r\n   * @param {Object} data Event 資料。\r\n   */\r\n  constructor(data) {\r\n    super(data);\r\n    this._assignData(data, EventRecord.#props);\r\n\r\n    // 格式化的活動日期\r\n    if (this.date) {\r\n      this.abbrDate = DateService.formatAsDateAbbrMonthYear(this.date);\r\n    }\r\n  }\r\n}\r\n","import { EventRecord } from \"./eventRecord\";\r\nimport { EventService } from \"./eventService\";\r\nimport { TagModel } from \"../tag\";\r\nimport { TypeUtils } from \"@/helpers\";\r\n\r\n/**\r\n * Event 單筆資料，會整合 Tag 資料。\r\n */\r\nexport class EventTagRecord extends EventRecord {\r\n  /**\r\n   * 所有分類標籤完整資料。\r\n   * @type {TagObj[]}\r\n   */\r\n  tagDatas = [];\r\n\r\n  /**\r\n   * 主分類標籤。\r\n   * @type {TagObj}\r\n   */\r\n  mainTag;\r\n\r\n  /**\r\n   * 其它次要分類標籤。\r\n   * @type {TagObj[]}\r\n   */\r\n  subTags = [];\r\n\r\n  /**\r\n   * Event 單筆資料，會整合 Tag 資料。\r\n   * @param {Object} data Event 資料。\r\n   * @param {TagModel} tagModel Tag 資料模型。\r\n   */\r\n  constructor(data, tagModel) {\r\n    super(data);\r\n\r\n    // 建置標籤相關資料\r\n    if (TagModel.isMe(tagModel) && TypeUtils.isArrayWithItems(this.tags)) {\r\n      this.tags.forEach((tagId, index) => {\r\n        const tagObj = tagModel.createTagObj(tagId);\r\n\r\n        // 所有分類標籤完整資料\r\n        this.tagDatas.push(tagObj);\r\n\r\n        // 主分類標籤\r\n        if (index === EventService.mainTagIndex) {\r\n          this.mainTag = tagObj;\r\n        }\r\n        // 次分類標籤\r\n        else {\r\n          this.subTags.push(tagObj);\r\n        }\r\n      });\r\n    }\r\n    // 建置標籤相關資料 end\r\n  }\r\n  // constructor end\r\n}\r\n","import { EventApi } from \"@/api\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport { EventTagRecord } from \"./eventTagRecord\";\r\nimport { TypeUtils } from \"@/helpers\";\r\n\r\n/**\r\n * Event 資料相關邏輯\r\n */\r\nexport class EventService {\r\n  /**\r\n   * 主分類標籤的 index，預設以第一個標籤為主要分類。\r\n   */\r\n  static get mainTagIndex() {\r\n    return 0;\r\n  }\r\n\r\n  /**\r\n   * 取得所有未過期活動，預設以日期由近至遠排序。\r\n   * 對應於 {@link EventApi.fetchEvents} 的處理。\r\n   * @returns {Promise<Object[]>} 由後端取回的資料，預設空陣列。\r\n   */\r\n  static async fetchEvents() {\r\n    let result;\r\n    await EventApi.fetchEvents()\r\n      .then((res) => {\r\n        result = res.data;\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n    return result || [];\r\n  }\r\n\r\n  /**\r\n   * 取得單一活動資訊。\r\n   * 對應於 {@link EventApi.fetchEvent} 的處理。\r\n   * @param {number} id 活動 ID。\r\n   * @returns {Promise<Object>} 由後端取回的資料，預設空物件。\r\n   */\r\n  static async fetchEvent(id) {\r\n    let result;\r\n    await EventApi.fetchEvent(id)\r\n      .then((res) => {\r\n        result = res.data;\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n    return result || {};\r\n  }\r\n\r\n  /**\r\n   * 取得 Banner 活動，預設以日期由近至遠排序。\r\n   * 對應於 {@link EventApi.fetchBanners} 的處理。\r\n   * @returns {Promise<Object[]>} 由後端取回的資料，預設空陣列。\r\n   */\r\n  static async fetchBanners() {\r\n    let result;\r\n    await EventApi.fetchBanners()\r\n      .then((res) => {\r\n        result = res.data;\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n    return result || [];\r\n  }\r\n\r\n  /**\r\n   * 以 Tag ID 篩選出活動。\r\n   * @param {EventTagRecord[]} events 活動資料集合。\r\n   * @param {number[]} tagIds 用來篩選的 Tag ID 集合。\r\n   * @returns {EventTagRecord[]} 篩選後的活動。\r\n   */\r\n  static filterByTagIds(events, tagIds) {\r\n    // 檢核 events：不是有資料的陣列，直接回傳空陣列\r\n    if (!TypeUtils.isArrayWithItems(events)) {\r\n      return [];\r\n    }\r\n\r\n    // 檢核 tagIds：不是有資料的陣列，直接回傳所有資料\r\n    if (!TypeUtils.isArrayWithItems(tagIds)) {\r\n      return events;\r\n    }\r\n\r\n    // 依據標籤進行活動篩選\r\n    return events.filter((event) => {\r\n      for (const id of event.tags) {\r\n        if (tagIds.includes(id)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    });\r\n  }\r\n}\r\n","import { Model } from \"../model\";\r\nimport { EventRecord } from \"./eventRecord\";\r\n\r\n/**\r\n * 活動資料模型\r\n */\r\nexport class EventModel extends Model {\r\n  /**\r\n   * 活動資料集。\r\n   * @type {EventRecord[]}\r\n   */\r\n  get datas() {\r\n    return this._datas;\r\n  }\r\n\r\n  /**\r\n   * 活動資料模型。\r\n   * @param {Object[]} [events] Event 資料集。\r\n   */\r\n  constructor(events = []) {\r\n    super();\r\n\r\n    events.forEach((item) => {\r\n      // 轉換資料\r\n      const eventRecord = new EventRecord(item);\r\n      // 建置資料集\r\n      this._datas.push(eventRecord);\r\n    });\r\n  }\r\n}\r\n","import { Model } from \"../model\";\r\nimport { EventTagRecord } from \"./eventTagRecord\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport { TagModel } from \"../tag\";\r\nimport { EventService } from \"./eventService\";\r\n\r\n/**\r\n * Event 資料模型，會整合 Tag 資料。\r\n */\r\nexport class EventTagModel extends Model {\r\n  /**\r\n   * Event 資料集。\r\n   * @type {EventTagRecord[]}\r\n   */\r\n  get datas() {\r\n    return this._datas;\r\n  }\r\n\r\n  /**\r\n   * Event 資料模型，會整合 Tag 資料。\r\n   * @param {Object[]} events Event 資料集。\r\n   * @param {TagModel} tagModel Tag 資料模型。\r\n   */\r\n  constructor(events = [], tagModel) {\r\n    super();\r\n\r\n    events.forEach((item) => {\r\n      // 轉換資料\r\n      const eventTagRecord = new EventTagRecord(item, tagModel);\r\n      // 建置資料集\r\n      this._datas.push(eventTagRecord);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 以 Tag ID 篩選出活動。\r\n   * @param {number[]} tagIds 用來篩選的 Tag ID 集合。\r\n   * @returns {EventTagRecord[]} 篩選後的活動。\r\n   */\r\n  filterByTagIds(tagIds) {\r\n    return EventService.filterByTagIds(this.datas, tagIds);\r\n  }\r\n}\r\n","import { TypeUtils, HistoryStateHelper } from \"@/helpers\";\r\n\r\n/**\r\n * 處理 Event list 頁面的 history state 相關事宜。\r\n */\r\nexport class EventListHistState {\r\n  /**\r\n   * 標籤資料在 history state 中的名稱。\r\n   * @type {string}\r\n   */\r\n  static #tagStateName = \"tags\";\r\n\r\n  /**\r\n   * 頁碼資料在 history state 中的名稱。\r\n   * @type {string}\r\n   */\r\n  static #pageStateName = \"page\";\r\n\r\n  /**\r\n   * 創建使用於 history state 的標籤資料。\r\n   * @param {number[] | number} [tagIds] 標籤 ID，可以是多個 ID 陣列或單一個 ID，預設為空陣列。\r\n   * @returns {{tags: number[]}} 標籤資料物件。會存放標籤 ID 陣列集合，若沒有標籤 ID 則會存放空陣列。\r\n   */\r\n  static createTagData(tagIds = []) {\r\n    // 初始標籤資料為空陣列\r\n    const tagData = [];\r\n\r\n    // 若參數不為陣列則先包成陣列\r\n    if (!(tagIds instanceof Array)) {\r\n      tagIds = [tagIds];\r\n    }\r\n\r\n    // 處理參數陣列裡每個值\r\n    tagIds.forEach((tagId) => {\r\n      // 為數字才會加入標籤資料中\r\n      try {\r\n        tagData.push(TypeUtils.converToNumber(tagId));\r\n      } catch {\r\n        /* no process */\r\n      }\r\n    });\r\n\r\n    return { [this.#tagStateName]: tagData };\r\n  }\r\n\r\n  /**\r\n   * 創建使用於 history state 的頁碼資料。\r\n   * @param {number} [pageNo] 頁碼，預設為第 1 頁。\r\n   * @returns {{page: number}} 頁碼資料物件。\r\n   * @throws 若不是正常的數字格式則會拋出錯誤訊息。\r\n   */\r\n  static createPageData(pageNo = 1) {\r\n    pageNo = TypeUtils.converToNumber(pageNo);\r\n    return { [this.#pageStateName]: pageNo };\r\n  }\r\n\r\n  /**\r\n   * 由 history state 取得標籤資料。\r\n   * @returns {number[]} 標籤 ID 集合，若不存在則會回傳空陣列。\r\n   */\r\n  static getTagData() {\r\n    return HistoryStateHelper.getData(this.#tagStateName) || [];\r\n  }\r\n\r\n  /**\r\n   * 由 history state 取得頁碼資料。\r\n   * @returns {number} 頁碼，若不存在則會回傳第 1 頁。\r\n   */\r\n  static getPageData() {\r\n    return HistoryStateHelper.getData(this.#pageStateName) || 1;\r\n  }\r\n\r\n  /**\r\n   * 修改 history state 的標籤資料。\r\n   * @param {number[] | number} [tagIds] 標籤 ID，可以是多個 ID 陣列或單一個 ID，預設為空陣列。\r\n   */\r\n  static updateTagData(tagIds = []) {\r\n    HistoryStateHelper.updateData(this.createTagData(tagIds));\r\n  }\r\n\r\n  /**\r\n   * 修改 history state 的頁碼資料。\r\n   * @param {number} [pageNo] 頁碼，預設為第 1 頁。\r\n   * @throws 若不是正常的數字格式則會拋出錯誤訊息。\r\n   */\r\n  static updatePageData(pageNo) {\r\n    HistoryStateHelper.updateData(this.createPageData(pageNo));\r\n  }\r\n}\r\n","import { TypeUtils, LoadingSettings, KeyboardDisableHelper } from \"@/helpers\";\r\nimport { useLoading } from \"vue-loading-overlay\";\r\n\r\n/**\r\n * 以 vue-loading-overlay 為基礎，開啟區域性 loading。\r\n * 允許傳入另外的設定選項，可以覆蓋基本設定重複的項目。\r\n * @param {HTMLElement} element 開啟區域 loading 的 DOM 元素，必要參數。\r\n * @param {LoadingOptions} [options = {}] 設定選項（vue-loading-overlay 的選項），可選。\r\n * @returns {AreaLoadingReturns} 用於控制 loading 狀態的相關方法。\r\n * @throws {TypeError} 如果 element 不是 DOM 元素則拋出型別錯誤。\r\n */\r\nexport function useAreaLoading(element, options = {}) {\r\n  // 基本檢核，不通過則拋出異常\r\n  if (!TypeUtils.isHtmlElement(element)) {\r\n    throw TypeError(\"[element] 必須為 DOM 元素！\");\r\n  }\r\n\r\n  /**\r\n   * vue-loading-overlay 物件。\r\n   * @type {import('vue-loading-overlay').PluginApi}\r\n   */\r\n  let vueLoading = null;\r\n  /**\r\n   * vue-loading-overlay 開啟的 loader 物件。\r\n   * @type {import('vue-loading-overlay').ActiveLoader|null}\r\n   */\r\n  let loader = null;\r\n\r\n  /**\r\n   * container 元素。\r\n   * @type {HTMLElement|null}\r\n   */\r\n  let containerElmt = null;\r\n\r\n  /**\r\n   * container 元素的 tabindex。\r\n   * loading 期間會設為 0 以優先被 tab 選取，進而保護內容不會被選取（搭配禁用鍵盤），loading 結束後會還原設定。\r\n   * @type {number|null}\r\n   */\r\n  let containerTabindex = null;\r\n\r\n  /**\r\n   * container 區域的禁用鍵盤的工具。\r\n   * @type {KeyboardDisableHelper|null}\r\n   */\r\n  let containerKeyboard = null;\r\n\r\n  // 建立 loading 物件，會強制 container 為傳入的元素，以確保開啟區域性的 loading\r\n  vueLoading = useLoading({\r\n    ...LoadingSettings.baseSettings,\r\n    ...options,\r\n    container: element,\r\n  });\r\n\r\n  // 初始化設定\r\n  containerElmt = element;\r\n  containerTabindex = element.getAttribute(\"tabindex\");\r\n  containerKeyboard = new KeyboardDisableHelper(element);\r\n\r\n  /**\r\n   * 開啟 loading。\r\n   */\r\n  function open() {\r\n    // 避免重複開啟\r\n    if (loader) {\r\n      return;\r\n    }\r\n\r\n    // 阻止 container 區域的內容被選取\r\n    containerElmt.setAttribute(\"tabindex\", \"0\");\r\n    containerElmt.focus();\r\n    containerKeyboard.disable();\r\n\r\n    // 開啟 loading\r\n    loader = vueLoading.show();\r\n  }\r\n\r\n  /**\r\n   * 關閉 loading。\r\n   */\r\n  function close() {\r\n    if (!loader) {\r\n      return;\r\n    }\r\n\r\n    // 取消 container 區域的保護\r\n    containerElmt.setAttribute(\"tabindex\", containerTabindex);\r\n    containerKeyboard.enable();\r\n\r\n    // 關閉 loading\r\n    loader.hide();\r\n    loader = null;\r\n  }\r\n\r\n  return {\r\n    open,\r\n    close,\r\n  };\r\n}\r\n","import { ref } from \"vue\";\r\nimport { EventService, EventTagModel } from \"@/services/data/event\";\r\nimport { TagService, TagModel } from \"@/services/data/tag\";\r\n\r\n/**\r\n * 使用 Tag、Event 資料，Event 會整合 Tag 資料。\r\n * @returns {Promise<{tagModel: TagModel, eventTagModel: EventTagModel}>} 回傳以 ref 包裝的響應式 TagModel 及 EventTagModel。\r\n */\r\nexport async function useEventTag() {\r\n  const tagModel = ref(null);\r\n  const eventTagModel = ref(null);\r\n\r\n  await Promise.all([TagService.fetchTags(), EventService.fetchEvents()]).then((resList) => {\r\n    tagModel.value = new TagModel(resList[0]);\r\n    eventTagModel.value = new EventTagModel(resList[1], tagModel.value);\r\n  });\r\n\r\n  return { tagModel, eventTagModel };\r\n}\r\n","<!-- eslint-disable vue/multi-word-component-names -->\r\n<template>\r\n  <Swiper\r\n    :modules=\"swiperModules\"\r\n    :navigation=\"true\"\r\n    :pagination=\"{ clickable: true, dynamicBullets: true }\"\r\n    :slidesPerView=\"1\"\r\n    :loop=\"banners.length > 1\"\r\n    :autoplay=\"{\r\n      delay: 3000,\r\n    }\"\r\n    class=\"mb-8 mb-md-12\"\r\n  >\r\n    <SwiperSlide v-for=\"event in banners\" :key=\"event.id\">\r\n      <router-link\r\n        class=\"banner-slide position-relative\"\r\n        :style=\"{ backgroundImage: `url(${event.img})` }\"\r\n        :to=\"{ path: `/events/${event.id}` }\"\r\n      >\r\n        <div class=\"banner-slide-date\">{{ event.abbrDate }}</div>\r\n        <div class=\"position-absolute bottom-0 w-100 mb-6\">\r\n          <p class=\"banner-slide-title\">{{ event.title }}</p>\r\n          <p class=\"banner-slide-desc d-none d-md-block\">{{ event.bannerDesc }}</p>\r\n        </div>\r\n      </router-link>\r\n    </SwiperSlide>\r\n  </Swiper>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"pinia\";\r\nimport { useLoadingStore } from \"@/stores\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport { EventService, EventRecord, EventModel } from \"@/services/data/event\";\r\n\r\n/* Swiper 相關 */\r\n// Import Swiper Vue.js components\r\nimport { Swiper, SwiperSlide } from \"swiper/vue\";\r\n// Import required modules\r\nimport { Navigation, Pagination, Autoplay } from \"swiper/modules\";\r\n\r\n/**\r\n * @typedef {object} BannerData\r\n * @property {Array} swiperModules Swiper 模組。\r\n * @property {EventRecord[]} banners Banner 活動資料。\r\n */\r\nexport default {\r\n  /**\r\n   * @returns { BannerData }\r\n   */\r\n  data() {\r\n    return {\r\n      swiperModules: [Navigation, Pagination, Autoplay], // Swiper 模組\r\n      banners: [],\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.openLoading();\r\n\r\n    // 取得 banner 資料\r\n    EventService.fetchBanners()\r\n      .then((res) => {\r\n        this.banners = new EventModel(res).datas;\r\n      })\r\n      .finally(() => {\r\n        this.closeLoading();\r\n      });\r\n  },\r\n\r\n  methods: {\r\n    /** loading 功能 */\r\n    ...mapActions(useLoadingStore, {\r\n      openLoading: \"open\",\r\n      closeLoading: \"close\",\r\n    }),\r\n  },\r\n\r\n  components: {\r\n    Swiper,\r\n    SwiperSlide,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use \"@/assets/scss/mixins/rwd\";\r\n@use \"@/assets/scss/mixins/font\";\r\n\r\n.banner-slide {\r\n  display: block;\r\n  height: 350px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  color: white;\r\n  padding-top: 16px;\r\n\r\n  // active 不做縮放效果\r\n  &:active {\r\n    transform: scale(1);\r\n  }\r\n\r\n  @include rwd.pad-up {\r\n    height: 518px;\r\n    padding-top: 48px;\r\n  }\r\n}\r\n\r\n.banner-slide-date {\r\n  width: 113px;\r\n  font-size: 32px;\r\n  line-height: 1.155;\r\n  margin-left: 40px;\r\n\r\n  @include rwd.pad-up {\r\n    width: auto;\r\n    font-size: 60px;\r\n    margin-left: 48px;\r\n  }\r\n}\r\n\r\n.banner-slide-title {\r\n  text-align: center;\r\n  font-weight: 700;\r\n  font-size: 18px;\r\n  line-height: 1.2;\r\n  letter-spacing: 0.05em;\r\n\r\n  @include rwd.pad-up {\r\n    font-size: 24px;\r\n    margin-bottom: 16px;\r\n  }\r\n}\r\n\r\n.banner-slide-desc {\r\n  @include font.noto-sans-tc;\r\n  max-width: 832px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  text-align: center;\r\n}\r\n</style>\r\n","<template>\r\n  <!-- 活動日期 -->\r\n  <div class=\"event-date\">{{ event.abbrDate }}</div>\r\n\r\n  <!-- 活動圖片 -->\r\n  <img :src=\"event.img\" :alt=\"event.title\" class=\"event-image\" loading=\"lazy\" />\r\n\r\n  <!-- 活動標題 -->\r\n  <h3 class=\"event-title font-noto-serif-tc\">{{ event.title }}</h3>\r\n\r\n  <!-- 活動內容 -->\r\n  <p class=\"event-desc font-noto-sans-tc\">{{ event.desc }}</p>\r\n\r\n  <!-- 結尾資訊 -->\r\n  <div class=\"event-footer\">\r\n    <!-- 主分類標籤 -->\r\n    <a href=\"#\" :class=\"eventTagClasses\" @click.prevent=\"clickEventTag(event.mainTag.id)\">\r\n      <i class=\"icofont-star-alt-1 fs-24 me-1\"></i>\r\n      <span class=\"hover-effect\">{{ event.mainTag.name }}</span>\r\n    </a>\r\n    <!-- 開賣 -->\r\n    <router-link\r\n      :to=\"{ path: `/events/${event.id}` }\"\r\n      class=\"hover-show-before d-flex align-items-center font-noto-sans-tc\"\r\n    >\r\n      <span class=\"hover-effect me-1\">{{ event.isOnSale ? \"開賣中\" : \"檢視活動\" }}</span>\r\n      <i class=\"icofont-rounded-double-right\"></i>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// TODO 待檢查優化\r\nimport { inject } from \"vue\";\r\nimport { EventTagRecord } from \"@/services/data/event\";\r\n\r\ndefineProps({\r\n  event: EventTagRecord,\r\n});\r\n\r\n/**\r\n * 處理活動卡標籤動作。\r\n */\r\n// 標籤點擊方法\r\nlet clickEventTag = inject(\"clickEventTag\", null);\r\n// 標籤樣式 class\r\nconst eventTagClasses = [\"d-flex\", \"align-items-center\"];\r\n\r\n// 有標籤點擊方法\r\nif (clickEventTag) {\r\n  // 加上其它 hover 效果\r\n  eventTagClasses.push(\"hover-underline\");\r\n}\r\n// 否則\r\nelse {\r\n  // 使 hover 失效\r\n  eventTagClasses.push(\"cursor-auto\");\r\n  // 使點擊無作用\r\n  clickEventTag = () => {};\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use \"@/assets/scss/mixins/rwd\";\r\n@use \"@/assets/scss/mixins/webkit-clamp\";\r\n@use \"@/assets/scss/mixins/shape\";\r\n\r\n.event-date {\r\n  font-size: 32px;\r\n  line-height: 1.155;\r\n  border-bottom: 3px solid var(--bs-primary);\r\n  padding-bottom: 8px;\r\n  margin-bottom: 16px;\r\n\r\n  @include rwd.pad-up {\r\n    font-size: 48px;\r\n    margin-bottom: 12px;\r\n  }\r\n}\r\n\r\n.event-image {\r\n  object-fit: cover;\r\n  width: 100%;\r\n  height: 210px;\r\n  margin-bottom: 8px;\r\n\r\n  @include rwd.pad-up {\r\n    height: 255px;\r\n    margin-bottom: 12px;\r\n  }\r\n}\r\n\r\n.event-title {\r\n  font-size: 18px;\r\n  line-height: 1.437;\r\n  font-weight: bold;\r\n  margin-bottom: 8px;\r\n\r\n  @include rwd.pad-up {\r\n    font-size: 24px;\r\n    margin-bottom: 12px;\r\n  }\r\n}\r\n\r\n.event-desc {\r\n  text-align: justify;\r\n  margin-bottom: 16px;\r\n\r\n  // 內容省略\r\n  @include webkit-clamp.webkit-clamp(3);\r\n}\r\n\r\n.event-footer {\r\n  font-weight: bold;\r\n\r\n  display: flex;\r\n  justify-content: space-between;\r\n  height: 39px;\r\n\r\n  border-style: solid;\r\n  border-color: var(--bs-primary);\r\n  border-width: 2px 0;\r\n\r\n  @include rwd.pad-up {\r\n    height: 48px;\r\n  }\r\n}\r\n\r\n// 分類 hover 樣式\r\n.hover-underline:hover .hover-effect {\r\n  text-decoration: underline;\r\n}\r\n\r\n// 開賣中 hover 樣式\r\n.hover-show-before {\r\n  &::before {\r\n    content: \"\";\r\n    @include shape.circle(29px, var(--bs-secondary));\r\n    position: relative;\r\n    left: 19px;\r\n    z-index: -1;\r\n    display: none;\r\n  }\r\n\r\n  &:hover::before {\r\n    display: inline-block;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <!-- 近期活動 -->\r\n  <article class=\"mb-8 mb-md-15\">\r\n    <h2 class=\"title mb-6 mb-md-8\">\r\n      <span class=\"title-english\">RECENT</span>\r\n      <span class=\"title-chinese\">近期活動</span>\r\n    </h2>\r\n\r\n    <ul class=\"row row-gap-6 row-gap-md-12\">\r\n      <li class=\"col-md-6 col-xl-4\" v-for=\"event in recentEvents\" :key=\"event.id\">\r\n        <EventCard :event=\"event\" />\r\n      </li>\r\n    </ul>\r\n  </article>\r\n\r\n  <!-- 線上活動 -->\r\n  <article v-if=\"onlineEvent\" class=\"mb-8 mb-md-15\">\r\n    <h2 class=\"title mb-6 mb-md-8\">\r\n      <span class=\"title-english\">ONLINE</span>\r\n      <span class=\"title-chinese\">線上活動</span>\r\n    </h2>\r\n\r\n    <div class=\"row\">\r\n      <!-- 圖片 -->\r\n      <div class=\"col-12 col-xl-7 mb-3 mb-xl-0\">\r\n        <div :style=\"{ backgroundImage: `url(${onlineEvent.img})` }\" class=\"online-img\"></div>\r\n      </div>\r\n\r\n      <div class=\"col\">\r\n        <!-- 標題 -->\r\n        <h3 class=\"text-black fw-bold fs-18 fs-md-32 lh-1d444 lh-md-1d438 mb-2 mb-md-4\">\r\n          {{ onlineEvent.title }}\r\n        </h3>\r\n\r\n        <!-- 標籤 -->\r\n        <ul class=\"d-flex flex-wrap gap-2 mb-3 mb-md-8\">\r\n          <li v-for=\"tag in onlineEvent.subTags\" :key=\"tag\">\r\n            <span class=\"tag\">{{ tag.name }}</span>\r\n          </li>\r\n        </ul>\r\n\r\n        <!-- 說明 -->\r\n        <p class=\"font-noto-sans-tc text-justify white-space-pre-wrap lh-xl-1d438 mb-3 mb-md-8\">\r\n          {{ onlineEvent.desc }}\r\n        </p>\r\n\r\n        <!-- 按鈕 -->\r\n        <router-link\r\n          :to=\"{ path: `/events/${onlineEvent.id}` }\"\r\n          class=\"btn btn-primary d-flex justify-content-center align-items-center w-100 py-4 py-xl-2 fs-md-20 lh-md-1d45\"\r\n        >\r\n          <span class=\"me-1\">查看活動詳情</span>\r\n          <i class=\"icofont-rounded-double-right\"></i>\r\n        </router-link>\r\n      </div>\r\n      <!-- col end -->\r\n    </div>\r\n    <!-- row end -->\r\n  </article>\r\n</template>\r\n\r\n<script>\r\n// TODO 待檢查優化\r\n// eslint-disable-next-line no-unused-vars\r\nimport { TagModel } from \"@/services/data/tag\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport { EventTagRecord, EventTagModel } from \"@/services/data/event\";\r\nimport EventCard from \"@/components/global/EventCard.vue\";\r\n\r\nexport default {\r\n  inject: [\"tagModel\", \"eventTagModel\"],\r\n\r\n  /**\r\n   * @returns {{myTagModel: TagModel, myEventTagModel: EventTagModel, recentEvents: EventTagRecord[], onlineEvent: EventTagRecord}}\r\n   */\r\n  data() {\r\n    return {\r\n      myTagModel: this.tagModel,\r\n      myEventTagModel: this.eventTagModel,\r\n      recentEvents: null, // 近期活動資料集\r\n      onlineEvent: null, // 線上活動\r\n    };\r\n  },\r\n\r\n  methods: {},\r\n\r\n  components: {\r\n    EventCard,\r\n  },\r\n\r\n  created() {\r\n    const recentEventLimit = 6; // \"近期活動\" 的數量上限\r\n    const onlineTagId = this.myTagModel.getIdByName(\"線上活動\"); // \"線上活動\" 的 tag ID\r\n\r\n    const recentEvents = []; // 近期活動\r\n    let onlineEvent; // 線上活動\r\n\r\n    for (const item of this.myEventTagModel.datas) {\r\n      // 線上活動\r\n      if (item.mainTag.id === onlineTagId) {\r\n        // 若線上活動尚未有資料則寫入\r\n        if (!onlineEvent) {\r\n          onlineEvent = item;\r\n        }\r\n      }\r\n      // 其它活動\r\n      else {\r\n        // 若近期活動尚未額滿則寫入\r\n        if (recentEvents.length < recentEventLimit) {\r\n          recentEvents.push(item);\r\n        }\r\n      }\r\n\r\n      // 當資料找齊即中斷迴圈\r\n      if (onlineEvent && recentEvents.length >= recentEventLimit) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    this.recentEvents = recentEvents;\r\n    this.onlineEvent = onlineEvent;\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use \"@/assets/scss/mixins/rwd\";\r\n\r\n// 線上活動 - 圖片\r\n.online-img {\r\n  height: 158px;\r\n  width: 100%;\r\n  background-position-y: 31.3%;\r\n  background-size: cover;\r\n\r\n  @include rwd.pad-up {\r\n    height: 310px;\r\n  }\r\n\r\n  @include rwd.desktop-up {\r\n    height: 100%;\r\n    background-position-y: 32.5%;\r\n  }\r\n}\r\n</style>\r\n","import { TypeUtils } from \"@/helpers\";\r\nimport { Record } from \"../record\";\r\nimport { TagModel } from \"../tag\";\r\nimport { EventService } from \"../event\";\r\n\r\n/**\r\n * 單筆 Album 資料\r\n * @extends {Record}\r\n */\r\nexport class AlbumRecord extends Record {\r\n  static #props = [\"tags\", \"title\"];\r\n\r\n  /**\r\n   * 所有標籤 ID。\r\n   * @type {number[]}\r\n   */\r\n  tags = [];\r\n\r\n  /**\r\n   * 標籤名稱。\r\n   * @type {string}\r\n   */\r\n  label = \"\";\r\n\r\n  /**\r\n   * 標題。\r\n   * @type {string}\r\n   */\r\n  title = \"\";\r\n\r\n  /**\r\n   * 封面相片。\r\n   * @type {string}\r\n   */\r\n  coverPhoto = \"\";\r\n\r\n  /**\r\n   * 相片們。\r\n   * @type {string[]}\r\n   */\r\n  photos = [];\r\n\r\n  /**\r\n   * 單筆 Album 資料。\r\n   * @param {object} data Album 資料物件。\r\n   * @param {TagModel} tagModel Tag 資料模型。\r\n   */\r\n  constructor(data, tagModel) {\r\n    // 檢查 data 是否為有效物件\r\n    if (!TypeUtils.isExactObject(data)) {\r\n      throw new TypeError(\"[data] 必須是有效的物件！\");\r\n    }\r\n\r\n    // 檢查 tagModel 是否為有效的 TagModel 實例\r\n    if (!TagModel.isMe(tagModel)) {\r\n      throw new TypeError(\"[tagModel] 必須是有效的 TagModel 實例！\");\r\n    }\r\n\r\n    super(data);\r\n    this._assignData(data, AlbumRecord.#props);\r\n\r\n    // 設定標籤名稱：為主要 tag 的名稱\r\n    this.label = tagModel.getNameById(this.tags[EventService.mainTagIndex]);\r\n\r\n    // 設定相片們\r\n    this.photos = data.albumPhotos || [];\r\n\r\n    // 設定封面相片\r\n    this.coverPhoto = this.photos[0] || \"\";\r\n  }\r\n}\r\n","import { Model } from \"../model\";\r\nimport { AlbumRecord } from \"./albumRecord\";\r\nimport { TagModel } from \"../tag\";\r\n\r\n/**\r\n * 相簿資料模型\r\n * @extends {Model}\r\n */\r\nexport class AlbumModel extends Model {\r\n  /**\r\n   * 相簿資料集。\r\n   * @type {AlbumRecord[]}\r\n   */\r\n  get datas() {\r\n    return this._datas;\r\n  }\r\n\r\n  /**\r\n   * 相簿資料模型。\r\n   * @param {object[]} [albums] Album 資料集。\r\n   * @param {TagModel} tagModel Tag 資料模型。\r\n   */\r\n  constructor(albums = [], tagModel) {\r\n    // 檢查 albums 是否為陣列\r\n    if (!Array.isArray(albums)) {\r\n      throw new TypeError(\"[albums] 必須是陣列！\");\r\n    }\r\n\r\n    // 檢查 tagModel 是否為有效的 TagModel 實例\r\n    if (!TagModel.isMe(tagModel)) {\r\n      throw new TypeError(\"[tagModel] 必須是有效的 TagModel 實例！\");\r\n    }\r\n\r\n    super();\r\n\r\n    albums.forEach((item) => {\r\n      // 轉換資料\r\n      const albumRecord = new AlbumRecord(item, tagModel);\r\n      // 建置資料集\r\n      this._datas.push(albumRecord);\r\n    });\r\n  }\r\n}\r\n","import { EventApi } from \"@/api\";\r\n\r\n/**\r\n * 相簿資料相關邏輯\r\n */\r\nexport class AlbumService {\r\n  /**\r\n   * 取得所有相簿，預設以日期由近至遠排序。\r\n   * 對應於 {@link EventApi.fetchAlbums} 的處理。\r\n   * @returns {Promise<object[]>} 由後端取回的資料，預設空陣列。\r\n   */\r\n  static async fetchAlbums() {\r\n    let result;\r\n    await EventApi.fetchAlbums()\r\n      .then((res) => {\r\n        result = res.data;\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n    return result || [];\r\n  }\r\n}\r\n","import { ref } from \"vue\";\r\nimport { TagService, TagModel } from \"@/services/data/tag\";\r\nimport { AlbumModel, AlbumService } from \"@/services/data/album\";\r\n\r\n/**\r\n * 使用相簿資料。\r\n * @returns {Promise<{albums: import('vue').Ref<AlbumRecord[]>}>} 回傳以 ref 包裝的響應式相簿資料。\r\n */\r\nexport async function useAlbums() {\r\n  const albums = ref([]);\r\n\r\n  await Promise.all([TagService.fetchTags(), AlbumService.fetchAlbums()]).then((resList) => {\r\n    const tagModel = new TagModel(resList[0]);\r\n    albums.value = new AlbumModel(resList[1], tagModel).datas;\r\n  });\r\n\r\n  return { albums };\r\n}\r\n","<template>\r\n  <div\r\n    class=\"py-4 py-md-6 d-flex font-noto-serif-tc letter-spacing-10 fs-md-32 fw-bold text-secondary bg-primary white-space-nowrap overflow-hidden\"\r\n  >\r\n    <div :class=\"classes\" v-for=\"i in 2\" :key=\"i\">\r\n      活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・活動集錦・ALBUMS・\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// TODO 待檢查優化\r\nexport default {\r\n  props: {\r\n    /** 是否反向捲動？（預設往左捲動） */\r\n    isReverse: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      classes: [\"scroll\"],\r\n    };\r\n  },\r\n\r\n  created() {\r\n    // 依據 props 的需求設定 class\r\n    if (this.isReverse) {\r\n      this.classes.push(\"reverse\");\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll {\r\n  animation-name: scroll;\r\n  animation-duration: 150s;\r\n  animation-timing-function: linear;\r\n  animation-iteration-count: infinite;\r\n\r\n  &.reverse {\r\n    animation-direction: reverse;\r\n  }\r\n}\r\n\r\n// 捲動，預設往左\r\n@keyframes scroll {\r\n  from {\r\n    transform: translateX(0%);\r\n  }\r\n  to {\r\n    transform: translateX(-100%);\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <section\r\n    class=\"p-3 pb-8 p-md-4 pb-md-12 border border-2 border-primary position-relative\"\r\n    :class=\"classRotate\"\r\n  >\r\n    <div class=\"card-label fs-16 fw-bold bg-white position-absolute py-2 px-4\">\r\n      {{ album.label }}\r\n    </div>\r\n    <img\r\n      :src=\"album.coverPhoto\"\r\n      :alt=\"album.title\"\r\n      class=\"mb-3 mb-md-4 ratio-1 object-fit-cover\"\r\n      loading=\"lazy\"\r\n    />\r\n    <h3 class=\"fw-bold fs-18 font-noto-serif-tc\">{{ album.title }}</h3>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { AlbumRecord } from \"@/services/data/album\";\r\n\r\nexport default {\r\n  props: {\r\n    /** 卡片 index，用來換算卡片樣式 */\r\n    index: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    /* 相簿資料 */\r\n    album: AlbumRecord,\r\n  },\r\n\r\n  /**\r\n   * 定義 data 回傳的內容。\r\n   * @typedef {object} AblumCardData\r\n   * @property {string} classRotate rotate 的 class，預設空值（不做 rotate）。\r\n   */\r\n\r\n  /** @returns { AblumCardData } */\r\n  data() {\r\n    return {\r\n      classRotate: \"\",\r\n    };\r\n  },\r\n\r\n  created() {\r\n    /** 一組卡片的數量 */\r\n    const groupNumber = 4;\r\n    /** 此卡片在此組中所屬的模式 */\r\n    const mode = this.index % groupNumber;\r\n\r\n    switch (mode) {\r\n      case 0:\r\n        break;\r\n      case 1:\r\n        this.classRotate = \"rotate-2\";\r\n        break;\r\n      case 2:\r\n        this.classRotate = \"rotate-n2\";\r\n        break;\r\n      case 3:\r\n        this.classRotate = \"rotate-2\";\r\n        break;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use \"@/assets/scss/mixins/rwd\";\r\n\r\n// 卡片 - 標籤\r\n.card-label {\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%) rotate(-4deg);\r\n}\r\n</style>\r\n","<!-- eslint-disable vue/multi-word-component-names -->\r\n<template>\r\n  <article class=\"mb-8 mb-md-15\">\r\n    <!-- 僅作為標題結構，但不需顯示在畫面上 -->\r\n    <h2 class=\"visually-hidden\">活動集錦・ALBUMS</h2>\r\n\r\n    <!-- 跑馬燈 -->\r\n    <ScrollingText />\r\n\r\n    <!-- Albums 輪播 -->\r\n    <div class=\"container my-12 my-md-15\">\r\n      <Swiper\r\n        :modules=\"swiperModules\"\r\n        :navigation=\"true\"\r\n        :pagination=\"{\r\n          type: 'fraction',\r\n        }\"\r\n        :spaceBetween=\"24\"\r\n        :slidesPerView=\"slidesPerView\"\r\n        :loop=\"loop\"\r\n        :autoplay=\"{\r\n          delay: 3000,\r\n        }\"\r\n      >\r\n        <SwiperSlide v-for=\"(album, index) in albums\" :key=\"album.id\">\r\n          <AlbumCard :album=\"album\" :index=\"index\" />\r\n        </SwiperSlide>\r\n      </Swiper>\r\n    </div>\r\n\r\n    <!-- 跑馬燈 -->\r\n    <ScrollingText :isReverse=\"true\" />\r\n  </article>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"pinia\";\r\nimport { useLoadingStore } from \"@/stores\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport { AlbumRecord } from \"@/services/data/album\";\r\nimport { useAlbums } from \"@/composables/data/useAlbums\";\r\nimport ScrollingText from \"@/components/home/albums/ScrollingText.vue\";\r\nimport AlbumCard from \"@/components/home/albums/AlbumCard.vue\";\r\n\r\n/* Swiper 相關 */\r\n// Import Swiper Vue.js components\r\nimport { Swiper, SwiperSlide } from \"swiper/vue\";\r\n// Import required modules\r\nimport { Navigation, Pagination, Autoplay } from \"swiper/modules\";\r\n\r\n/**\r\n * @typedef {object} AlbumsData\r\n * @property {Array} swiperModules Swiper 模組\r\n * @property {number} slidesPerView 每次顯示的幻燈片數量\r\n * @property {AlbumRecord[]} albums 相簿資料\r\n */\r\nexport default {\r\n  /** @returns { AlbumsData } */\r\n  data() {\r\n    return {\r\n      swiperModules: [Navigation, Pagination, Autoplay], // Swiper 模組\r\n      slidesPerView: 1, // 每次顯示的幻燈片數量\r\n      albums: [], // 相簿資料\r\n    };\r\n  },\r\n\r\n  async created() {\r\n    this.openLoading();\r\n\r\n    // 取得相簿資料\r\n    const { albums } = await useAlbums();\r\n    this.albums = albums;\r\n\r\n    // 初始化 Swiper 設定\r\n    this.updateSwiperByWidth();\r\n\r\n    this.closeLoading();\r\n  },\r\n\r\n  mounted() {\r\n    // 監聽螢幕寬度變化，動態調整 Swiper 設定\r\n    window.addEventListener(\"resize\", this.updateSwiperByWidth);\r\n  },\r\n\r\n  beforeUnmount() {\r\n    // 清除監聽器\r\n    window.removeEventListener(\"resize\", this.updateSwiperByWidth);\r\n  },\r\n\r\n  methods: {\r\n    /** loading 功能 */\r\n    ...mapActions(useLoadingStore, {\r\n      openLoading: \"open\",\r\n      closeLoading: \"close\",\r\n    }),\r\n\r\n    /**\r\n     * 根據螢幕寬度設定 Swiper。\r\n     */\r\n    updateSwiperByWidth() {\r\n      // 手機\r\n      if (window.matchMedia(\"(max-width: 768px)\").matches) {\r\n        this.slidesPerView = 1;\r\n      }\r\n      // 平板\r\n      else if (window.matchMedia(\"(max-width: 1200px)\").matches) {\r\n        this.slidesPerView = 2;\r\n      }\r\n      // 桌機\r\n      else {\r\n        this.slidesPerView = 4;\r\n      }\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    /**\r\n     * 相簿輪播的循環播放屬性。\r\n     * @returns {boolean} 是否啟用循環播放。\r\n     */\r\n    loop() {\r\n      // 相簿數量 必須大於 每次顯示的幻燈片數量 才能啟用循環播放\r\n      return this.albums.length > this.slidesPerView;\r\n    },\r\n  },\r\n\r\n  components: {\r\n    ScrollingText,\r\n    AlbumCard,\r\n    Swiper,\r\n    SwiperSlide,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@use \"@/assets/scss/mixins/rwd\";\r\n\r\n// 覆寫 Swiper 的樣式\r\n.swiper {\r\n  /*\r\n   由於卡片因為旋轉而呈現不規則，超出的部份會因為 Swiper 特性而變成看不見。\r\n   因此這邊需要額外設定 padding 將內容推擠至可視區。\r\n  */\r\n  padding-top: 25px;\r\n  padding-bottom: 10px;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n\r\n  // 手機版的卡片寬度非佔滿 100%，需要再另外限縮手機版的寬度。\r\n  @include rwd.pad-down {\r\n    width: 89%;\r\n  }\r\n}\r\n\r\n// 覆寫 Swiper 的 slide 樣式\r\n.swiper-slide {\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n</style>\r\n","import { SubscriptionApi } from \"@/api\";\r\n\r\n/**\r\n * 訂閱資料相關邏輯\r\n */\r\nexport class SubscriptionService {\r\n  /**\r\n   * 取得所有訂閱資訊。\r\n   * 對應於 {@link SubscriptionApi.fetchSubscriptions} 的處理。\r\n   * @returns {Promise<Object[]>} 由後端取回的資料，預設空陣列。\r\n   */\r\n  static async fetchSubscriptions() {\r\n    let result;\r\n    await SubscriptionApi.fetchSubscriptions()\r\n      .then((res) => {\r\n        result = res.data;\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n    return result || [];\r\n  }\r\n\r\n  /**\r\n   * 訂閱。\r\n   * @param {{ email: string }} data 資料。\r\n   * @returns {Promise<Object>} 新增成功後回傳的資料。\r\n   * @throws 拋出處理異常。\r\n   */\r\n  static async subscribe(data) {\r\n    /** 檢查資料，有誤則回傳 undefined */\r\n    if (!data?.email) {\r\n      throw Error(\"Email 必須有值！\");\r\n    }\r\n\r\n    /** 先以 email 查詢訂閱資料，若已存在則直接回傳資料（避免重複存入相同的 email） */\r\n    let res = await SubscriptionApi.fetchSubscriptionByEmail(data.email);\r\n\r\n    // 資料已存在\r\n    if (res.data.length > 0) {\r\n      return res.data[0];\r\n    }\r\n\r\n    /** 若沒有資料則新增之 */\r\n    res = await SubscriptionApi.postSubscription(data);\r\n    return res.data;\r\n  }\r\n}\r\n","<template>\r\n  <div class=\"container mb-12 mb-md-15\">\r\n    <div class=\"d-flex flex-column flex-xl-row row-gap-6\">\r\n      <!-- #FOLLOW US -->\r\n      <section class=\"w-xl-50 border border-2 border-primary border-end-xl-0\">\r\n        <h2\r\n          class=\"fs-24 fs-md-32 fw-bold font-noto-serif-tc py-4 px-3 px-md-8 border-bottom border-2 border-primary\"\r\n        >\r\n          #FOLLOW US\r\n        </h2>\r\n\r\n        <div class=\"py-4 py-md-8 px-3 px-md-8 text-black font-noto-sans-tc\">\r\n          <p class=\"mb-4 mb-md-8\">\r\n            想第一時間獲得新奇有趣的活動資訊？<br />\r\n            追蹤我們的社群吧！<br />\r\n            也歡迎你聯繫我們，提供好玩有趣的活動企劃。\r\n          </p>\r\n\r\n          <!-- 聯繫資訊 -->\r\n          <ul>\r\n            <li class=\"contact-info\">\r\n              <a href=\"mailto:7tao.event@gmail.com\" class=\"contact-info-link\" @click.prevent>\r\n                <i class=\"icofont-ui-email\"></i>\r\n                <span>7tao.event@gmail.com</span>\r\n              </a>\r\n            </li>\r\n            <li class=\"contact-info\">\r\n              <a href=\"tel:+886-9123123123\" class=\"contact-info-link\" @click.prevent>\r\n                <i class=\"icofont-phone\"></i>\r\n                <span>09123123123</span>\r\n              </a>\r\n            </li>\r\n            <li class=\"contact-info\">\r\n              <a href=\"#\" class=\"contact-info-link\" @click.prevent>\r\n                <i class=\"icofont-facebook\"></i>\r\n                <span>7TAO七逃</span>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          <!-- 聯繫資訊 end -->\r\n        </div>\r\n      </section>\r\n      <!-- #FOLLOW US end -->\r\n\r\n      <!-- #SUBSCRIBE US -->\r\n      <section class=\"w-xl-50 border border-2 border-primary d-flex flex-column\">\r\n        <h2\r\n          class=\"fs-24 fs-md-32 fw-bold font-noto-serif-tc py-4 ps-3 ps-md-8 border-bottom border-2 border-primary\"\r\n        >\r\n          #SUBSCRIBE US\r\n        </h2>\r\n\r\n        <div ref=\"formSubscription\" class=\"vl-parent h-100\">\r\n          <VeeForm\r\n            v-slot=\"{ errors }\"\r\n            class=\"h-100 d-flex flex-column justify-content-between\"\r\n            @submit=\"subscribe\"\r\n          >\r\n            <div class=\"py-4 px-3 p-md-8 pb-xl-0\">\r\n              <p class=\"mb-4 mb-md-8\">\r\n                訂閱電子報送折價券！<br />\r\n                定期精選文章資訊及最新優惠資訊，<br />\r\n                還不通通給我訂閱起來？\r\n              </p>\r\n              <VeeField\r\n                type=\"email\"\r\n                name=\"email\"\r\n                :class=\"['subscribe-input', 'form-control', errors.email ? 'is-invalid' : '']\"\r\n                placeholder=\"輸入Email\"\r\n                rules=\"required|email\"\r\n                label=\"Email\"\r\n              />\r\n              <VeeErrorMessage name=\"email\" class=\"invalid-feedback\" />\r\n            </div>\r\n\r\n            <button\r\n              class=\"btn btn-primary d-flex justify-content-center align-items-center w-100 py-4\"\r\n            >\r\n              <span class=\"me-1\">確認訂閱</span>\r\n              <i class=\"icofont-rounded-double-right\"></i>\r\n            </button>\r\n          </VeeForm>\r\n        </div>\r\n      </section>\r\n      <!-- #SUBSCRIBE US end -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { TimerAlert, ConfirmAlert } from \"@/helpers\";\r\nimport { SubscriptionService } from \"@/services/data/subscription\";\r\nimport { useAreaLoading } from \"@/composables\";\r\n\r\n/**\r\n * @typedef {object} FollowUsData\r\n * @property {AreaLoadingReturns} loadingSubscription 訂閱表單區域 loading。\r\n */\r\n/**\r\n * @typedef {object} SubscriptionForm\r\n * @property {string} email 使用者輸入的 Email\r\n */\r\n\r\nexport default {\r\n  /**\r\n   * @returns {FollowUsData}\r\n   */\r\n  data() {\r\n    return {\r\n      loadingSubscription: null, // 訂閱表單區域 loading\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * 訂閱。\r\n     * @param {SubscriptionForm} form VeeValidate 彙整的表單資料（會被自動傳入）。\r\n     */\r\n    subscribe(form) {\r\n      this.loadingSubscription.open();\r\n\r\n      SubscriptionService.subscribe(form)\r\n        .then(() => {\r\n          TimerAlert.alertSuccess(\"訂閱成功\");\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n          ConfirmAlert.alertErrorDetail(\"訂閱失敗\", error.message);\r\n        })\r\n        .finally(() => {\r\n          this.loadingSubscription.close();\r\n        });\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    // 初始化訂閱表單的區域 loading\r\n    this.loadingSubscription = useAreaLoading(this.$refs.formSubscription);\r\n  },\r\n\r\n  beforeUnmount() {\r\n    // 清除物件，避免潛在記憶體洩漏\r\n    this.loadingSubscription = null;\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use \"@/assets/scss/mixins/style\";\r\n\r\n/* 聯繫資訊 */\r\n.contact-info {\r\n  &:not(:last-child) {\r\n    margin-bottom: 16px;\r\n  }\r\n}\r\n\r\n// 聯繫資訊 - 連結\r\n.contact-info-link {\r\n  display: flex;\r\n  align-items: center;\r\n  width: fit-content;\r\n\r\n  // icon\r\n  i {\r\n    background-color: var(--bs-primary);\r\n    color: white;\r\n    padding: 8px;\r\n    margin-right: 16px;\r\n  }\r\n\r\n  // 滑鼠懸停時的樣式\r\n  @include style.only-pointer-hover {\r\n    text-decoration: underline;\r\n  }\r\n}\r\n\r\n/* 訂閱 */\r\n.subscribe-input {\r\n  padding: 14px 20px;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"container mt-4 mt-md-8\">\r\n    <!-- Banner -->\r\n    <Banner />\r\n\r\n    <!-- 重點連結 -->\r\n    <div class=\"row row-cols-3 row-cols-xl-6 row-gap-2 row-gap-md-6 mb-8 mb-md-12\">\r\n      <!-- 分類標籤 -->\r\n      <div v-for=\"link in links\" :key=\"link.title\">\r\n        <a href=\"#\" class=\"key-link\" @click.prevent=\"goToEventList(getTagId(link.title))\">\r\n          <img :src=\"getImageUrl(link.img)\" :alt=\"link.title\" class=\"key-link-img\" />\r\n          <span>{{ link.title }}</span>\r\n        </a>\r\n      </div>\r\n      <!-- 探索更多 -->\r\n      <div>\r\n        <a href=\"#\" class=\"key-link\" @click.prevent=\"goToEventList\">\r\n          <span class=\"fs-24 fs-md-48 lh-1d333 lh-md-1d25\">探索<br />更多</span>\r\n        </a>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 活動資訊 -->\r\n    <EventInfo v-if=\"tagModel && eventTagModel\" />\r\n  </div>\r\n\r\n  <!-- 活動集錦 -->\r\n  <Albums />\r\n\r\n  <!-- 關注我們 -->\r\n  <FollowUs />\r\n\r\n  <!-- slogan -->\r\n  <div class=\"py-12 py-md-15 border-top border-primary border-3\">\r\n    <div class=\"container\">\r\n      <p class=\"fs-18 fs-md-32 mb-3 mb-md-4 fw-bold text-center\">\r\n        此刻打盹，你將做夢；此刻學習，你將圓夢\r\n      </p>\r\n      <p class=\"fs-14 fs-md-18 fw-bold text-center\">——我也不知道誰說的</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\nimport { mapActions } from \"pinia\";\r\nimport { useLoadingStore } from \"@/stores\";\r\nimport { ImageUtils } from \"@/helpers\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport { TagModel } from \"@/services/data/tag\";\r\n// eslint-disable-next-line no-unused-vars\r\nimport { EventTagModel } from \"@/services/data/event\";\r\nimport { EventListHistState } from \"@/services/features\";\r\nimport { useEventTag } from \"@/composables\";\r\n\r\n// components\r\nimport Banner from \"@/components/home/Banner.vue\";\r\nimport EventInfo from \"@/components/home/EventInfo.vue\";\r\nimport Albums from \"@/components/home/albums/Albums.vue\";\r\nimport FollowUs from \"@/components/home/FollowUs.vue\";\r\n\r\n/**\r\n * @typedef {object} HomeViewData\r\n * @property {TagModel} tagModel 標籤資料模型。\r\n * @property {EventTagModel} eventTagModel 活動資料模型。\r\n * @property {Array<{title: string, img: string}>} links 主要連結功能按鈕。\r\n */\r\nexport default {\r\n  /**\r\n   * @return { HomeViewData }\r\n   */\r\n  data() {\r\n    return {\r\n      tagModel: null, // 標籤資料模型\r\n      eventTagModel: null, // 活動資料模型\r\n\r\n      // 主要連結功能按鈕\r\n      links: [\r\n        { title: \"演出\", img: \"cate01.svg\" },\r\n        { title: \"聯誼\", img: \"cate02.svg\" },\r\n        { title: \"展覽\", img: \"cate03.svg\" },\r\n        { title: \"美食\", img: \"cate04.svg\" },\r\n        { title: \"戶外\", img: \"cate05.svg\" },\r\n      ],\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.openLoading();\r\n\r\n    // 取得標籤、活動\r\n    useEventTag()\r\n      .then((res) => {\r\n        this.tagModel = res.tagModel;\r\n        this.eventTagModel = res.eventTagModel;\r\n      })\r\n      .finally(() => {\r\n        this.closeLoading();\r\n      });\r\n  },\r\n\r\n  provide() {\r\n    return {\r\n      tagModel: computed(() => this.tagModel),\r\n      eventTagModel: computed(() => this.eventTagModel),\r\n      clickEventTag: this.goToEventList,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    /** loading 功能 */\r\n    ...mapActions(useLoadingStore, {\r\n      openLoading: \"open\",\r\n      closeLoading: \"close\",\r\n    }),\r\n\r\n    /**\r\n     * 取得圖片完整 URL。\r\n     * @param {string} fileName 檔案名稱。\r\n     * @return {string} 圖片 URL。\r\n     */\r\n    getImageUrl: (fileName) => ImageUtils.getImagePath(fileName),\r\n\r\n    /**\r\n     * 以 tag 名稱取得 tag ID。\r\n     * @param {string} tagName tag 名稱。\r\n     * @return {number} tag ID。\r\n     */\r\n    getTagId(tagName) {\r\n      return this.tagModel.getIdByName(tagName);\r\n    },\r\n\r\n    /**\r\n     * 轉到活動列頁面，會以 tagId 作為頁面參數。\r\n     * @param {string} tagId tag ID。\r\n     */\r\n    goToEventList(tagId) {\r\n      this.$router.push({\r\n        path: \"/events\",\r\n        state: EventListHistState.createTagData(tagId),\r\n      });\r\n    },\r\n  },\r\n  // methods end\r\n\r\n  components: {\r\n    Banner,\r\n    EventInfo,\r\n    Albums,\r\n    FollowUs,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use \"@/assets/scss/mixins/rwd\";\r\n\r\n.key-link {\r\n  height: 112px;\r\n  font-weight: 700;\r\n  border: 2px solid black;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  @include rwd.pad-up {\r\n    height: 196px;\r\n    font-size: 24px;\r\n    line-height: 1.2;\r\n  }\r\n\r\n  &:hover {\r\n    color: var(--bs-secondary);\r\n    background-color: var(--bs-primary);\r\n    font-size: 24px;\r\n    transition: font-size 100ms linear;\r\n\r\n    @include rwd.pad-up {\r\n      font-size: 48px;\r\n    }\r\n\r\n    .key-link-img {\r\n      display: none;\r\n    }\r\n  }\r\n}\r\n\r\n// 圖示\r\n.key-link-img {\r\n  width: 40px;\r\n  height: 40px;\r\n  margin-bottom: 8px;\r\n\r\n  @include rwd.pad-up {\r\n    width: 80px;\r\n    height: 80px;\r\n    margin-bottom: 12px;\r\n  }\r\n}\r\n</style>\r\n","import { createRouter, createWebHashHistory } from \"vue-router\";\r\nimport { useLoadingStore } from \"@/stores\";\r\nimport { SysConstants } from \"@/helpers\";\r\nimport homeView from \"../views/HomeView.vue\";\r\n\r\nconst router = createRouter({\r\n  history: createWebHashHistory(import.meta.env.BASE_URL),\r\n\r\n  scrollBehavior(to, from, savedPosition) {\r\n    // TODO DELETE\r\n    // console.log(`[Router] to ==>`, to);\r\n    // console.log(`[Router] from ==>`, from);\r\n    // console.log(`[Router] savedPosition ==>`, savedPosition);\r\n    // console.log(`[savedPosition] top ==>`, savedPosition?.top);\r\n\r\n    // 如果有 position 資訊則自動捲到位置\r\n    if (savedPosition) {\r\n      // 需等待畫面渲染完成，因此使用非同步延遲回傳\r\n      return new Promise((resolve) => {\r\n        setTimeout(() => {\r\n          // console.log(`============== 執行 scroll 動作 ==============`);\r\n          resolve(savedPosition);\r\n        }, SysConstants.scrollWaitingTime);\r\n      });\r\n    }\r\n  },\r\n\r\n  routes: [\r\n    // 首頁\r\n    {\r\n      path: \"/\",\r\n      name: \"home\",\r\n      component: homeView,\r\n    },\r\n    // {\r\n    //   path: '/events/:tag(.*)?',\r\n    //   name: 'events',\r\n    //   component: () => import(\"../views/EventListView.vue\"),\r\n    //   props: true,\r\n    // },\r\n    // 活動列表頁\r\n    {\r\n      path: \"/events\",\r\n      name: \"eventList\",\r\n      component: () => import(\"@/views/EventListView.vue\"),\r\n    },\r\n    // 活動資訊頁\r\n    {\r\n      path: \"/events/:id\",\r\n      name: \"eventDetail\",\r\n      component: () => import(\"@/views/EventDetailView.vue\"),\r\n    },\r\n    // 測試\r\n    {\r\n      path: \"/test\",\r\n      name: \"test\",\r\n      component: () => import(\"@/views/test/TestView.vue\"),\r\n      children: [\r\n        {\r\n          path: \"bs\",\r\n          name: \"testBs\",\r\n          component: () => import(\"@/views/test/TestBs.vue\"),\r\n        },\r\n        {\r\n          path: \"layout\",\r\n          name: \"testLayout\",\r\n          component: () => import(\"@/views/test/TestLayout.vue\"),\r\n        },\r\n        {\r\n          path: \"js\",\r\n          name: \"testJs\",\r\n          component: () => import(\"@/views/test/TestJs.vue\"),\r\n        },\r\n      ],\r\n    },\r\n    // 404\r\n    {\r\n      path: \"/:pathMatch(.*)*\",\r\n      name: \"NotFound\",\r\n      // redirect: \"/\", // 導回首頁\r\n      component: () => import(\"@/views/NotFoundView.vue\"), // 使用客製的頁面\r\n    },\r\n  ],\r\n});\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nrouter.beforeEach((to, from) => {\r\n  // 在進入頁面之前將 loading reset，以避免前一頁沒有正常關閉而造成問題\r\n  useLoadingStore().reset();\r\n});\r\n\r\nexport default router;\r\n","import \"@/assets/scss/all.scss\";\r\n\r\nimport { createApp } from \"vue\";\r\nimport { createPinia } from \"pinia\";\r\nimport App from \"./App.vue\";\r\nimport router from \"./router\";\r\n\r\n// Bootstrap\r\nimport \"bootstrap\";\r\n\r\n// Import Swiper styles\r\nimport \"swiper/css\";\r\nimport \"swiper/css/navigation\";\r\nimport \"swiper/css/pagination\";\r\n\r\n// vue-loading-overlay\r\nimport { LoadingPlugin } from \"vue-loading-overlay\";\r\nimport \"vue-loading-overlay/dist/css/index.css\";\r\n\r\n// VeeValidate\r\nimport { Field, Form, ErrorMessage } from \"vee-validate\";\r\nimport { VeeValidateHelper } from \"./helpers\";\r\nVeeValidateHelper.initEnv();\r\n\r\nconst app = createApp(App);\r\napp.use(createPinia());\r\napp.use(router);\r\n\r\n// vue-loading-overlay\r\napp.use(LoadingPlugin);\r\n\r\n// 註冊 VeeValidate 元件\r\napp.component(\"VeeForm\", Form);\r\napp.component(\"VeeField\", Field);\r\napp.component(\"VeeErrorMessage\", ErrorMessage);\r\n\r\napp.mount(\"#app\");\r\n"],"file":"assets/index-Bk18EYnp.js"}